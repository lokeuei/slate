<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","csharp","java","php"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="csharp">csharp</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://developer.avalara.com/getting-started'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id='introduction'>Introduction</h1>
<p>The Avalara AvaTax APIs allow you to connect your web cart or accounting software to realtime tax calculation and address validation services. You can just retrieve tax amounts, but your transactions can also be recorded for reporting and tax filing. We have a RESTful API, class wrappers (adapters) for PHP, Java, and .NET compiled from the SOAP API, or you can build your own wrappers directly from the <a href="https://development.avalara.net/address/addresssvc.wsdl">address</a> and <a href="https://development.avalara.net/tax/taxsvc.wsdl">tax service</a> SOAP WSDLs.</p>

<p>The Avalara AvaTax service is SOAP-based, so that API covers all AvaTax functionality. However, we understand the demand for a more RESTful interface, so we provide an API for that as well for the main functions of the AvaTax service. Future updates to the REST API will provide access to all AvaTax methods.</p>

<p>The sample code on this page is intended to give you an idea of how the methods are used, but you can find functioning sample source projects with full class libraries from our <a href='http://github.com/avadev'>API Sample Code page</a>.</p>

<p><strong>Note</strong>: Our preview samples are not enabled to make web service calls until you have received an active account number and license key via email, or a username and password from the <a href='http://developer.avalara.com/getting-started'>get-started sandbox registration</a>.</p>

          <h1 id='rest-api'>REST API</h1>
<p>The Avalara REST API exposes the most commonly used available for interacting with the AvaTax service, allowing calculation of tax, modification of documents, and validation of addresses - including some functionality not exposed by our REST API.
If you&rsquo;re unsure of which API to use, a full comparison of the differences between the functionality provided by our REST and SOAP interfaces is documented <a href="http://developer.avalara.com/api-docs/designing-your-integration/soap-or-rest">here</a>.</p>

          <h2 id='gettax'>GetTax</h2><pre class="highlight shell">curl <span class="s2">"https://development.avalara.net/1.0/tax/get"</span> --user 1234567890:A1B2C3D4E5F6G7H8 --header <span class="s2">"Content-Type: text/json"</span> --data @/Docs/getTaxRequest.json
<span class="o">{</span>
<span class="s2">"CustomerCode"</span>: <span class="s2">"ABC4335"</span>,
<span class="s2">"DocDate"</span>: <span class="s2">"2014-01-01"</span>,
<span class="s2">"CompanyCode"</span>: <span class="s2">"APITrialCompany"</span>,
<span class="s2">"Client"</span>: <span class="s2">"AvaTaxSample"</span>,
<span class="s2">"DocCode"</span>: <span class="s2">"INV001"</span>,
<span class="s2">"DetailLevel"</span>: <span class="s2">"Tax"</span>,
<span class="s2">"Commit"</span>: <span class="s2">"false"</span>,
<span class="s2">"DocType"</span>: <span class="s2">"SalesInvoice"</span>,
<span class="s2">"CustomerUsageType"</span>: <span class="s2">"G"</span>,
<span class="s2">"ExemptionNo"</span>: <span class="s2">"12345"</span>,
<span class="s2">"Discount"</span>: <span class="s2">"50"</span>,
<span class="s2">"TaxOverride"</span>: <span class="o">{</span>
<span class="s2">"TaxOverrideType"</span>: <span class="s2">"TaxDate"</span>,
<span class="s2">"Reason"</span>: <span class="s2">"Adjustment for return"</span>,
<span class="s2">"TaxDate"</span>: <span class="s2">"2013-07-01"</span>,
<span class="s2">"TaxAmount"</span>: <span class="s2">"0"</span>,
<span class="o">}</span>,
<span class="s2">"PurchaseOrderNo"</span>: <span class="s2">"PO123456"</span>,
<span class="s2">"ReferenceCode"</span>: <span class="s2">"ref123456"</span>,
<span class="s2">"PosLaneCode"</span>: <span class="s2">"09"</span>,
<span class="s2">"CurrencyCode"</span>: <span class="s2">"USD"</span>,
<span class="s2">"Addresses"</span>: <span class="o">[</span>
<span class="o">{</span>
<span class="s2">"AddressCode"</span>: <span class="s2">"01"</span>,
<span class="s2">"Line1"</span>: <span class="s2">"45 Fremont Street"</span>,
<span class="s2">"City"</span>: <span class="s2">"San Francisco"</span>,
<span class="s2">"Region"</span>: <span class="s2">"CA"</span>  
<span class="o">}</span>,
<span class="o">{</span>
<span class="s2">"AddressCode"</span>: <span class="s2">"02"</span>,
<span class="s2">"Line1"</span>: <span class="s2">"118 N Clark St"</span>,
<span class="s2">"Line2"</span>: <span class="s2">"Suite 100"</span>,
<span class="s2">"Line3"</span>: <span class="s2">"ATTN Accounts Payable"</span>,
<span class="s2">"City"</span>: <span class="s2">"Chicago"</span>,
<span class="s2">"Region"</span>: <span class="s2">"IL"</span>,
<span class="s2">"Country"</span>: <span class="s2">"US"</span>,
<span class="s2">"PostalCode"</span>: <span class="s2">"60602"</span>   
<span class="o">}</span>,
<span class="o">{</span>
<span class="s2">"AddressCode"</span>: <span class="s2">"03"</span>,
<span class="s2">"Latitude"</span>: <span class="s2">"47.627935"</span>,
<span class="s2">"Longitude"</span>: <span class="s2">"-122.51702"</span>   
<span class="o">}</span>
<span class="o">]</span>,
<span class="s2">"Lines"</span>: <span class="o">[</span>
<span class="o">{</span>
<span class="s2">"LineNo"</span>: <span class="s2">"01"</span>,
<span class="s2">"ItemCode"</span>: <span class="s2">"N543"</span>,
<span class="s2">"Qty"</span>: <span class="s2">"1"</span>,
<span class="s2">"Amount"</span>: <span class="s2">"10"</span>,
<span class="s2">"OriginCode"</span>: <span class="s2">"01"</span>,
<span class="s2">"DestinationCode"</span>: <span class="s2">"02"</span>,
<span class="s2">"Description"</span>: <span class="s2">"Red Size 7 Widget"</span>,
<span class="s2">"TaxCode"</span>: <span class="s2">"NT"</span>,
<span class="s2">"CustomerUsageType"</span>: <span class="s2">"L"</span>,
<span class="s2">"Discounted"</span>: <span class="s2">"true"</span>,
<span class="s2">"TaxIncluded"</span>: <span class="s2">"true"</span>,
<span class="s2">"Ref1"</span>: <span class="s2">"ref123"</span>,
<span class="s2">"Ref2"</span>: <span class="s2">"ref456"</span>    
<span class="o">}</span>,
<span class="o">{</span>
<span class="s2">"LineNo"</span>: <span class="s2">"02"</span>,
<span class="s2">"ItemCode"</span>: <span class="s2">"T345"</span>,
<span class="s2">"Qty"</span>: <span class="s2">"3"</span>,
<span class="s2">"Amount"</span>: <span class="s2">"150"</span>,
<span class="s2">"OriginCode"</span>: <span class="s2">"01"</span>,
<span class="s2">"DestinationCode"</span>: <span class="s2">"03"</span>,
<span class="s2">"Description"</span>: <span class="s2">"Size 10 Green Running Shoe"</span>,
<span class="s2">"TaxCode"</span>: <span class="s2">"PC030147"</span>   
<span class="o">}</span>,
<span class="o">{</span>
<span class="s2">"LineNo"</span>: <span class="s2">"02-FR"</span>,
<span class="s2">"ItemCode"</span>: <span class="s2">"FREIGHT"</span>,
<span class="s2">"Qty"</span>: <span class="s2">"1"</span>,
<span class="s2">"Amount"</span>: <span class="s2">"15"</span>,
<span class="s2">"OriginCode"</span>: <span class="s2">"01"</span>,
<span class="s2">"DestinationCode"</span>: <span class="s2">"03"</span>,
<span class="s2">"Description"</span>: <span class="s2">"Shipping Charge"</span>,
<span class="s2">"TaxCode"</span>: <span class="s2">"FR"</span> 
<span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>
</pre>
<pre class="highlight java"><span class="n">GetTaxRequest</span> <span class="n">getTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GetTaxRequest</span><span class="o">();</span>
<span class="c1">// Document Level Elements</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">CustomerCode</span> <span class="o">=</span> <span class="s">"ABC4335"</span><span class="o">;</span>
<span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Date</span> <span class="n">docDate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">,</span> <span class="n">Locale</span><span class="o">.</span><span class="na">ENGLISH</span><span class="o">).</span><span class="na">parse</span><span class="o">(</span><span class="s">"2014-01-01"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">DocDate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span><span class="o">(</span><span class="n">docDate</span><span class="o">.</span><span class="na">getTime</span><span class="o">());</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">CompanyCode</span> <span class="o">=</span> <span class="s">"APITrialCompany"</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">Client</span> <span class="o">=</span> <span class="s">"AvaTaxSample"</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">DocCode</span> <span class="o">=</span> <span class="s">"INV001"</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">DetailLevel</span> <span class="o">=</span> <span class="n">TaxSvc</span><span class="o">.</span><span class="na">DetailLevel</span><span class="o">.</span><span class="na">Tax</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">Commit</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">DocType</span> <span class="o">=</span> <span class="n">TaxSvc</span><span class="o">.</span><span class="na">DocType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">;</span>
<span class="c1">// Situational Request Parameters</span>
<span class="c1">// getTaxRequest.CustomerUsageType = "G";</span>
<span class="c1">// getTaxRequest.ExemptionNo = "12345";</span>
<span class="c1">// getTaxRequest.Discount = new BigDecimal(50);</span>
<span class="c1">// getTaxRequest.TaxOverride = new TaxOverrideDef();</span>
<span class="c1">// getTaxRequest.TaxOverride.TaxOverrideType = "TaxDate";</span>
<span class="c1">// getTaxRequest.TaxOverride.Reason = "Adjustment for return";</span>
<span class="c1">// getTaxRequest.TaxOverride.TaxDate = "2013-07-01";</span>
<span class="c1">// getTaxRequest.TaxOverride.TaxAmount = "0";</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">PurchaseOrderNo</span><span class="o">=</span><span class="s">"PO123456"</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">ReferenceCode</span><span class="o">=</span><span class="s">"ref123456"</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">PosLaneCode</span><span class="o">=</span><span class="s">"09"</span><span class="o">;</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">CurrencyCode</span><span class="o">=</span><span class="s">"USD"</span><span class="o">;</span>
<span class="c1">// Address Data</span>
<span class="n">Address</span> <span class="n">address1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address1</span><span class="o">.</span><span class="na">AddressCode</span> <span class="o">=</span> <span class="s">"01"</span><span class="o">;</span>
<span class="n">address1</span><span class="o">.</span><span class="na">Line1</span> <span class="o">=</span> <span class="s">"45 Fremont Street"</span><span class="o">;</span>
<span class="n">address1</span><span class="o">.</span><span class="na">City</span> <span class="o">=</span> <span class="s">"San Francisco"</span><span class="o">;</span>
<span class="n">address1</span><span class="o">.</span><span class="na">Region</span> <span class="o">=</span> <span class="s">"CA"</span><span class="o">;</span>
<span class="n">Address</span> <span class="n">address2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address2</span><span class="o">.</span><span class="na">AddressCode</span> <span class="o">=</span> <span class="s">"02"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">Line1</span> <span class="o">=</span> <span class="s">"118 N Clark St"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">Line2</span> <span class="o">=</span> <span class="s">"Suite 100"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">Line3</span> <span class="o">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">City</span> <span class="o">=</span> <span class="s">"Chicago"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">Region</span> <span class="o">=</span> <span class="s">"IL"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">Country</span> <span class="o">=</span> <span class="s">"US"</span><span class="o">;</span>
<span class="n">address2</span><span class="o">.</span><span class="na">PostalCode</span> <span class="o">=</span> <span class="s">"60602"</span><span class="o">;</span>
<span class="n">Address</span> <span class="n">address3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address3</span><span class="o">.</span><span class="na">AddressCode</span> <span class="o">=</span> <span class="s">"03"</span><span class="o">;</span>
<span class="n">address3</span><span class="o">.</span><span class="na">Latitude</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">47.627935</span><span class="o">);</span>
<span class="n">address3</span><span class="o">.</span><span class="na">Longitude</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(-</span><span class="mf">122.51702</span><span class="o">);</span>
<span class="n">Address</span><span class="o">[]</span> <span class="n">addresses</span> <span class="o">=</span> <span class="o">{</span> <span class="n">address1</span><span class="o">,</span> <span class="n">address2</span><span class="o">,</span> <span class="n">address3</span> <span class="o">};</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">Addresses</span> <span class="o">=</span> <span class="n">addresses</span><span class="o">;</span>
<span class="c1">// Line Data</span>
<span class="n">Line</span> <span class="n">line1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line1</span><span class="o">.</span><span class="na">LineNo</span> <span class="o">=</span> <span class="s">"01"</span><span class="o">;</span>
<span class="n">line1</span><span class="o">.</span><span class="na">ItemCode</span> <span class="o">=</span> <span class="s">"N543"</span><span class="o">;</span>
<span class="n">line1</span><span class="o">.</span><span class="na">Qty</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">line1</span><span class="o">.</span><span class="na">Amount</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
<span class="n">line1</span><span class="o">.</span><span class="na">OriginCode</span> <span class="o">=</span> <span class="s">"01"</span><span class="o">;</span>
<span class="n">line1</span><span class="o">.</span><span class="na">DestinationCode</span> <span class="o">=</span> <span class="s">"02"</span><span class="o">;</span>
<span class="n">line1</span><span class="o">.</span><span class="na">Description</span> <span class="o">=</span> <span class="s">"Red Size 7 Widget"</span><span class="o">;</span>
<span class="n">line1</span><span class="o">.</span><span class="na">TaxCode</span> <span class="o">=</span> <span class="s">"NT"</span><span class="o">;</span>
<span class="c1">// Situational Request Parameters</span>
<span class="c1">// line1.CustomerUsageType = "L";</span>
<span class="c1">// line1.Discounted = true;</span>
<span class="c1">// line1.TaxIncluded = true;</span>
<span class="c1">// line1.TaxOverride = new TaxOverrideDef();</span>
<span class="c1">// line1.TaxOverride.TaxOverrideType = "TaxDate";</span>
<span class="c1">// line1.TaxOverride.Reason = "Adjustment for return";</span>
<span class="c1">// line1.TaxOverride.TaxDate="2013-07-01";</span>
<span class="c1">// line1.TaxOverride.TaxAmount = "0";</span>
<span class="n">line1</span><span class="o">.</span><span class="na">Ref1</span> <span class="o">=</span> <span class="s">"ref123"</span><span class="o">;</span>
<span class="n">line1</span><span class="o">.</span><span class="na">Ref2</span> <span class="o">=</span> <span class="s">"ref456"</span><span class="o">;</span>
<span class="n">Line</span> <span class="n">line2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line2</span><span class="o">.</span><span class="na">LineNo</span> <span class="o">=</span> <span class="s">"02"</span><span class="o">;</span>
<span class="n">line2</span><span class="o">.</span><span class="na">ItemCode</span> <span class="o">=</span> <span class="s">"T345"</span><span class="o">;</span>
<span class="n">line2</span><span class="o">.</span><span class="na">Qty</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
<span class="n">line2</span><span class="o">.</span><span class="na">Amount</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">150</span><span class="o">);</span>
<span class="n">line2</span><span class="o">.</span><span class="na">OriginCode</span> <span class="o">=</span> <span class="s">"01"</span><span class="o">;</span>
<span class="n">line2</span><span class="o">.</span><span class="na">DestinationCode</span> <span class="o">=</span> <span class="s">"03"</span><span class="o">;</span>
<span class="n">line2</span><span class="o">.</span><span class="na">Description</span> <span class="o">=</span> <span class="s">"Size 10 Green Running Shoe"</span><span class="o">;</span>
<span class="n">line2</span><span class="o">.</span><span class="na">TaxCode</span> <span class="o">=</span> <span class="s">"PC030147"</span><span class="o">;</span>
<span class="n">Line</span> <span class="n">line3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line3</span><span class="o">.</span><span class="na">LineNo</span> <span class="o">=</span> <span class="s">"02-FR"</span><span class="o">;</span>
<span class="n">line3</span><span class="o">.</span><span class="na">ItemCode</span> <span class="o">=</span> <span class="s">"FREIGHT"</span><span class="o">;</span>
<span class="n">line3</span><span class="o">.</span><span class="na">Qty</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">line3</span><span class="o">.</span><span class="na">Amount</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">15</span><span class="o">);</span>
<span class="n">line3</span><span class="o">.</span><span class="na">OriginCode</span> <span class="o">=</span> <span class="s">"01"</span><span class="o">;</span>
<span class="n">line3</span><span class="o">.</span><span class="na">DestinationCode</span> <span class="o">=</span> <span class="s">"03"</span><span class="o">;</span>
<span class="n">line3</span><span class="o">.</span><span class="na">Description</span> <span class="o">=</span> <span class="s">"Shipping Charge"</span><span class="o">;</span>
<span class="n">line3</span><span class="o">.</span><span class="na">TaxCode</span> <span class="o">=</span> <span class="s">"FR"</span><span class="o">;</span>
<span class="n">Line</span><span class="o">[]</span> <span class="n">lines</span> <span class="o">=</span> <span class="o">{</span> <span class="n">line1</span><span class="o">,</span> <span class="n">line2</span><span class="o">,</span> <span class="n">line3</span> <span class="o">};</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">Lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">;</span>
<span class="c1">//Create URL</span>
<span class="n">String</span> <span class="n">taxget</span> <span class="o">=</span> <span class="n">baseURL</span><span class="o">+</span><span class="s">"/1.0/tax/get"</span><span class="o">;</span>
<span class="n">URL</span> <span class="n">url</span><span class="o">;</span>
<span class="n">HttpURLConnection</span> <span class="n">conn</span><span class="o">;</span>
<span class="c1">//Connect to URL with authorization header, request content.</span>
<span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">taxget</span><span class="o">);</span>
<span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span><span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setUseCaches</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setAllowUserInteraction</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="c1">//Create auth content</span>
<span class="n">String</span> <span class="n">encoded</span> <span class="o">=</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encodeBase64</span><span class="o">((</span><span class="n">accountNumber</span> <span class="o">+</span> <span class="s">":"</span> <span class="o">+</span> <span class="n">licenseKey</span><span class="o">).</span><span class="na">getBytes</span><span class="o">()));</span> 
<span class="c1">//Add authorization header</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span> <span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="n">encoded</span><span class="o">);</span> 
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/x-www-form-urlencoded"</span><span class="o">);</span>
<span class="n">ObjectMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
<span class="n">mapper</span><span class="o">.</span><span class="na">setSerializationInclusion</span><span class="o">(</span><span class="n">Include</span><span class="o">.</span><span class="na">NON_NULL</span><span class="o">);</span>
<span class="c1">//Tells the serializer to only include those parameters that are not null</span>
<span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">writeValueAsString</span><span class="o">(</span><span class="n">getTaxRequest</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Length"</span><span class="o">,</span> <span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">content</span><span class="o">.</span><span class="na">length</span><span class="o">()));</span>
<span class="n">DataOutputStream</span> <span class="n">wr</span><span class="o">=</span><span class="k">new</span> <span class="n">DataOutputStream</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
<span class="n">wr</span><span class="o">.</span><span class="na">writeBytes</span> <span class="o">(</span><span class="n">content</span><span class="o">);</span>
<span class="n">wr</span><span class="o">.</span><span class="na">flush</span> <span class="o">();</span>
<span class="n">wr</span><span class="o">.</span><span class="na">close</span> <span class="o">();</span>
<span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
<span class="n">GetTaxResult</span> <span class="n">res</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getErrorStream</span><span class="o">(),</span> <span class="n">GetTaxResult</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$getTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GetTaxRequest</span><span class="p">();</span>
<span class="c1">// Document Level Elements
</span><span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCustomerCode</span><span class="p">(</span><span class="s2">"ABC4335"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocDate</span><span class="p">(</span><span class="s2">"2014-01-01"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setClient</span><span class="p">(</span><span class="s2">"AvaTaxSample"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s2">"INV001"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDetailLevel</span><span class="p">(</span><span class="nx">DetailLevel</span><span class="o">::</span><span class="nv">$Tax</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCommit</span><span class="p">(</span><span class="k">FALSE</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="nx">DocumentType</span><span class="o">::</span><span class="nv">$SalesInvoice</span><span class="p">);</span>
<span class="c1">// $getTaxRequest-&gt;setCustomerUsageType("G");
// $getTaxRequest-&gt;setExemptionNo("12345");
// $getTaxRequest-&gt;setDiscount(50);
// $taxOverride = new TaxOverride();
// $taxOverride.TaxOverrideType("TaxDate");
// $taxOverride.Reason("Adjustment for return");
// $taxOverride.TaxDate("2013-07-01");
// $taxOverride.TaxAmount("0");
// $getTaxRequest-&gt;setTaxOverride($taxOverride);
</span><span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setPurchaseOrderNo</span><span class="p">(</span><span class="s2">"PO123456"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setReferenceCode</span><span class="p">(</span><span class="s2">"ref123456"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setPosLaneCode</span><span class="p">(</span><span class="s2">"09"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCurrencyCode</span><span class="p">(</span><span class="s2">"USD"</span><span class="p">);</span>
<span class="c1">// Address Data
</span><span class="nv">$addresses</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="nv">$address1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$address1</span><span class="o">-&gt;</span><span class="na">setAddressCode</span><span class="p">(</span><span class="s2">"01"</span><span class="p">);</span>
<span class="nv">$address1</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"45 Fremont Street"</span><span class="p">);</span>
<span class="nv">$address1</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"San Francisco"</span><span class="p">);</span>
<span class="nv">$address1</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"CA"</span><span class="p">);</span>
<span class="nv">$addresses</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$address1</span><span class="p">;</span>
<span class="nv">$address2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setAddressCode</span><span class="p">(</span><span class="s2">"02"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"118 N Clark St"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">"Suite 100"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">"ATTN Accounts Payable"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Chicago"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"IL"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$address2</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"60602"</span><span class="p">);</span>
<span class="nv">$addresses</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$address2</span><span class="p">;</span>
<span class="nv">$address3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$address3</span><span class="o">-&gt;</span><span class="na">setAddressCode</span><span class="p">(</span><span class="s2">"03"</span><span class="p">);</span>
<span class="nv">$address3</span><span class="o">-&gt;</span><span class="na">setLatitude</span><span class="p">(</span><span class="mf">47.627935</span><span class="p">);</span>
<span class="nv">$address3</span><span class="o">-&gt;</span><span class="na">setLongitude</span><span class="p">(</span><span class="o">-</span><span class="mf">122.51702</span><span class="p">);</span>
<span class="nv">$addresses</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$address3</span><span class="p">;</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setAddresses</span><span class="p">(</span><span class="nv">$addresses</span><span class="p">);</span>
<span class="c1">// Line Data
</span><span class="nv">$lines</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="nv">$line1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setLineNo</span><span class="p">(</span><span class="s2">"01"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"N543"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setOriginCode</span><span class="p">(</span><span class="s2">"01"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setDestinationCode</span><span class="p">(</span><span class="s2">"02"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Red Size 7 Widget"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"NT"</span><span class="p">);</span>
<span class="c1">// $line1-&gt;setCustomerUsageType("L");
// $line1-&gt;setDiscounted(TRUE);
// $line1-&gt;setTaxIncluded(TRUE);
// $lineTaxOverride = new TaxOverride();
// $lineTaxOverride.TaxOverrideType("TaxDate");
// $lineTaxOverride.Reason("Adjustment for return");
// $lineTaxOverride.TaxDate("2013-07-01");
// $lineTaxOverride.TaxAmount("0");
// $line1-&gt;setTaxOverride($lineTaxOverride);
</span><span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setRef1</span><span class="p">(</span><span class="s2">"ref123"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setRef2</span><span class="p">(</span><span class="s2">"ref456"</span><span class="p">);</span>
<span class="nv">$lines</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$line1</span><span class="p">;</span>
<span class="nv">$line2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setLineNo</span><span class="p">(</span><span class="s2">"02"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"T345"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">150</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setOriginCode</span><span class="p">(</span><span class="s2">"01"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setDestinationCode</span><span class="p">(</span><span class="s2">"03"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Size 10 Green Running Shoe"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"PC030147"</span><span class="p">);</span>
<span class="nv">$lines</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$line2</span><span class="p">;</span>
<span class="nv">$line3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setLineNo</span><span class="p">(</span><span class="s2">"02-FR"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"FREIGHT"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setOriginCode</span><span class="p">(</span><span class="s2">"01"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setDestinationCode</span><span class="p">(</span><span class="s2">"03"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Shipping Charge"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"FR"</span><span class="p">);</span>
<span class="nv">$lines</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$line3</span><span class="p">;</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setLines</span><span class="p">(</span><span class="nv">$lines</span><span class="p">);</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="nv">$serviceURL</span><span class="o">.</span><span class="s2">"/1.0/tax/get"</span><span class="p">;</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPAUTH</span><span class="p">,</span> <span class="nx">CURLAUTH_BASIC</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_USERPWD</span><span class="p">,</span> <span class="nv">$accountNumber</span><span class="o">.</span><span class="s2">":"</span><span class="o">.</span><span class="nv">$licenseKey</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$getTaxRequest</span><span class="p">));</span> 
<span class="nv">$curl_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nx">GetTaxResult</span><span class="o">::</span><span class="na">parseResult</span><span class="p">(</span><span class="nv">$curl_response</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight csharp"><span class="n">GetTaxRequest</span> <span class="n">getTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GetTaxRequest</span><span class="p">();</span>
<span class="c1">// Document Level Elements
</span><span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CustomerCode</span> <span class="p">=</span> <span class="s">"ABC4335"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocDate</span> <span class="p">=</span> <span class="s">"2014-01-01"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DetailLevel</span> <span class="p">=</span> <span class="n">DetailLevel</span><span class="p">.</span><span class="n">Tax</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Commit</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="c1">// Situational Request Parameters
// getTaxRequest.CustomerUsageType = "G";
// getTaxRequest.ExemptionNo = "12345";
// getTaxRequest.Discount = 50;
// getTaxRequest.TaxOverride = new TaxOverrideDef();
// getTaxRequest.TaxOverride.TaxOverrideType = "TaxDate";
// getTaxRequest.TaxOverride.Reason = "Adjustment for return";
// getTaxRequest.TaxOverride.TaxDate = "2013-07-01";
// getTaxRequest.TaxOverride.TaxAmount = "0";
</span><span class="n">getTaxRequest</span><span class="p">.</span><span class="n">PurchaseOrderNo</span> <span class="p">=</span> <span class="s">"PO123456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ReferenceCode</span> <span class="p">=</span> <span class="s">"ref123456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">PosLaneCode</span> <span class="p">=</span> <span class="s">"09"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"USD"</span><span class="p">;</span>
<span class="c1">// Address Data
</span><span class="n">Address</span> <span class="n">address1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address1</span><span class="p">.</span><span class="n">AddressCode</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"45 Fremont Street"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"San Francisco"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"CA"</span><span class="p">;</span>
<span class="n">Address</span> <span class="n">address2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address2</span><span class="p">.</span><span class="n">AddressCode</span> <span class="p">=</span> <span class="s">"02"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"118 N Clark St"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line2</span> <span class="p">=</span> <span class="s">"Suite 100"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line3</span> <span class="p">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"Chicago"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"IL"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Country</span> <span class="p">=</span> <span class="s">"US"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"60602"</span><span class="p">;</span>
<span class="n">Address</span> <span class="n">address3</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address3</span><span class="p">.</span><span class="n">AddressCode</span> <span class="p">=</span> <span class="s">"03"</span><span class="p">;</span>
<span class="n">address3</span><span class="p">.</span><span class="n">Latitude</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="m">47.627935</span><span class="p">;</span>
<span class="n">address3</span><span class="p">.</span><span class="n">Longitude</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)-</span><span class="m">122.51702</span><span class="p">;</span>
<span class="n">Address</span><span class="p">[]</span> <span class="n">addresses</span> <span class="p">=</span> <span class="p">{</span> <span class="n">address1</span><span class="p">,</span> <span class="n">address2</span><span class="p">,</span> <span class="n">address3</span> <span class="p">};</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Addresses</span> <span class="p">=</span> <span class="n">addresses</span><span class="p">;</span>
<span class="c1">// Line Data
</span><span class="n">Line</span> <span class="n">line1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line1</span><span class="p">.</span><span class="n">LineNo</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"N543"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">OriginCode</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">DestinationCode</span> <span class="p">=</span> <span class="s">"02"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Red Size 7 Widget"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"NT"</span><span class="p">;</span>
<span class="c1">// Situational Request Parameters
// line1.CustomerUsageType = "L";
// line1.Discounted = true;
// line1.TaxIncluded = true;
// line1.TaxOverride = new TaxOverrideDef();
// line1.TaxOverride.TaxOverrideType = "TaxDate";
// line1.TaxOverride.Reason = "Adjustment for return";
// line1.TaxOverride.TaxDate = "2013-07-01";
// line1.TaxOverride.TaxAmount = "0";
</span><span class="n">line1</span><span class="p">.</span><span class="n">Ref1</span> <span class="p">=</span> <span class="s">"ref123"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Ref2</span> <span class="p">=</span> <span class="s">"ref456"</span><span class="p">;</span>
<span class="n">Line</span> <span class="n">line2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line2</span><span class="p">.</span><span class="n">LineNo</span> <span class="p">=</span> <span class="s">"02"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"T345"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">150</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">OriginCode</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">DestinationCode</span> <span class="p">=</span> <span class="s">"03"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Size 10 Green Running Shoe"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"PC030147"</span><span class="p">;</span>
<span class="n">Line</span> <span class="n">line3</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line3</span><span class="p">.</span><span class="n">LineNo</span> <span class="p">=</span> <span class="s">"02-FR"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"FREIGHT"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">15</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">OriginCode</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">DestinationCode</span> <span class="p">=</span> <span class="s">"03"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Shipping Charge"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"FR"</span><span class="p">;</span>
<span class="n">Line</span><span class="p">[]</span> <span class="n">lines</span> <span class="p">=</span> <span class="p">{</span> <span class="n">line1</span><span class="p">,</span> <span class="n">line2</span><span class="p">,</span> <span class="n">line3</span> <span class="p">};</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span> <span class="p">=</span> <span class="n">lines</span><span class="p">;</span>
<span class="c1">//Convert the request to XML
</span><span class="n">XmlSerializerNamespaces</span> <span class="n">namesp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlSerializerNamespaces</span><span class="p">();</span>
<span class="n">namesp</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">XmlWriterSettings</span> <span class="n">settings</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlWriterSettings</span><span class="p">();</span>
<span class="n">settings</span><span class="p">.</span><span class="n">OmitXmlDeclaration</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">XmlSerializer</span> <span class="n">x</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlSerializer</span><span class="p">(</span><span class="n">getTaxRequest</span><span class="p">.</span><span class="nf">GetType</span><span class="p">());</span>
<span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">();</span>
<span class="n">x</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">XmlTextWriter</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">sb</span><span class="p">,</span> <span class="n">settings</span><span class="p">),</span> <span class="n">getTaxRequest</span><span class="p">,</span> <span class="n">namesp</span><span class="p">);</span>
<span class="n">XmlDocument</span> <span class="n">doc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlDocument</span><span class="p">();</span>
<span class="n">doc</span><span class="p">.</span><span class="nf">LoadXml</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
<span class="c1">//Call the service
</span><span class="n">Uri</span> <span class="n">address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="n">serviceURL</span> <span class="p">+</span> <span class="s">"tax/get"</span><span class="p">);</span>
<span class="n">HttpWebRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">address</span><span class="p">)</span> <span class="k">as</span> <span class="n">HttpWebRequest</span><span class="p">;</span>
<span class="c1">//Add Authorization header
</span><span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">HttpRequestHeader</span><span class="p">.</span><span class="n">Authorization</span><span class="p">,</span> 
    <span class="s">"Basic "</span> <span class="p">+</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="n">ASCIIEncoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">accountNumber</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">licenseKey</span><span class="p">)));</span>
<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"text/xml"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
<span class="n">Stream</span> <span class="n">newStream</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">();</span>
<span class="n">newStream</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">ASCIIEncoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()),</span> <span class="m">0</span><span class="p">,</span> <span class="n">sb</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
<span class="n">WebResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
</span><span class="s2">"ResultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
</span><span class="s2">"DocCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INV001"</span><span class="p">,</span><span class="w">
</span><span class="s2">"DocDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-01"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-03-20T00:19:55.887"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TotalAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"175"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TotalDiscount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TotalExemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"165"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TotalTaxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TotalTax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TotalTaxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxLines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"LineNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NT"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
</span><span class="s2">"BoundaryLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Exemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.092500"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.062500"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ILLINOIS"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL STATE TAX"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"County"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.007500"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COOK"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL COUNTY TAX"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.012500"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHICAGO"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL CITY TAX"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Special"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.010000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REGIONAL TRANSPORT. 
    AUTHORITY (RTA)"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL SPECIAL TAX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"LineNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PC030147"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
</span><span class="s2">"BoundaryLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zip5"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Exemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.086000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.065000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA STATE TAX"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.021000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAINBRIDGE ISLAND"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA CITY TAX"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"LineNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02-FR"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FR"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
</span><span class="s2">"BoundaryLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zip5"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Exemption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Discount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.086000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.065000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA STATE TAX"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Taxable"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.021000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAINBRIDGE ISLAND"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA CITY TAX"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="s2">"TaxAddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45 Fremont St"</span><span class="p">,</span><span class="w">
</span><span class="s2">"AddressCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
</span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94105-2204"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2113460"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.791119"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.397366"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45 Fremont St"</span><span class="p">,</span><span class="w">
</span><span class="s2">"AddressCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
</span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94105-2204"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2113460"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.791119"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.397366"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45 Fremont St"</span><span class="p">,</span><span class="w">
</span><span class="s2">"AddressCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01"</span><span class="p">,</span><span class="w">
</span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94105-2204"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2113460"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0607500000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37.791119"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.397366"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118 N Clark St Ste 100"</span><span class="p">,</span><span class="w">
</span><span class="s2">"AddressCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02"</span><span class="p">,</span><span class="w">
</span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60602-1304"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2062953"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703114000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.884132"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-87.631048"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"AddressCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2109716"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.627935"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.51702"</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"AddressCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
</span><span class="s2">"TaxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2109716"</span><span class="p">,</span><span class="w">
</span><span class="s2">"JurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5303503736"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47.627935"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-122.51702"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">],</span><span class="w">
</span><span class="s2">"TaxDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-01"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Calculates taxes on a document such as a sales order, sales invoice, purchase order, purchase invoice, or credit memo.</p>
<h3 id='url-and-method'>URL and Method</h3>
<p>URL: /1.0/tax/get POST</p>

<p>For development, 
    https://development.avalara.net
    /1.0/tax/get</p>

<p>For production, 
    https://avatax.avalara.net
    /1.0/tax/get</p>

<p>Note that xml-encoded requests should use /1.0/tax/get.xml</p>
<h3 id='headers'>Headers</h3>
<p><strong>Authorization:</strong> header, <em>required</em></p>

<p>In the format &ldquo;Basic[ account number]:[license key]&rdquo; encoded to <a href="http://en.wikipedia.org/wiki/Base64">Base64</a>, as per <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">basic access authentication</a>.</p>

<p>Sample: Basic a2VlcG1vdmluZzpub3RoaW5nMnNlZWhlcmU=</p>

<p><strong>Content Type:</strong> header, <em>required</em></p>

<p>Standard content type header, indicating the content type of the request content.</p>

<p><strong>Content Length:</strong> header, <em>required</em></p>

<p>Standard content length header, indicating the size of the request content.</p>
<h3 id='gettaxrequest'>GetTaxRequest</h3>
<p>Input for GetTax describing the document on which tax should be calculated.</p>
<h4 id='properties'>Properties</h4>
<p><strong>BusinessIdentificationNo:</strong> string [25], <em>optional, unless the user needs VAT calculated</em></p>

<p>The buyer&rsquo;s VAT id. Using this value will force VAT rules to be considered for the transaction. This may be set on the document or the line.</p>

<p><strong>Commit:</strong> bool, <em>optional</em></p>

<p>Default is false. Setting this value to true will prevent further document status changes, except voiding with CancelTax.</p>

<p><strong>Client:</strong> string [50], <em>optional</em></p>

<p>An identifier of software client generating the API call.</p>

<p><strong>CompanyCode:</strong> string [25], <em>optional</em></p>

<p>The code that identifies the company in the AvaTax account in which the document should be posted. This code is declared during the company setup in the <a href="https://admin-development.avalara.net/" target="_blank">AvaTax Admin Console</a>. If no value is passed, the document will be assigned to the default company.</p>

<p><strong>CustomerCode:</strong> string [50], <em>required</em></p>

<p>The client application customer reference code. This is required since it is the key to the Exemption Certificate Management Service in the Admin Console.</p>

<p><strong>CurrencyCode:</strong> string [3], <em>optional</em></p>

<p>3 character ISO 4217 compliant currency code.</p>

<p><strong>CustomerUsageType:</strong> string [25], <em>optional</em></p>

<p>The client application customer or usage type.</p>

<p>The standard values for the CustomerUsageType are:</p>

<ul>
<li>A - Federal Government</li>
<li>B - State/Local Govt.</li>
<li>C - Tribal Government</li>
<li>D - Foreign Diplomat</li>
<li>E - Charitable Organization</li>
<li>F - Religious/Education</li>
<li>G - Resale</li>
<li>H - Agricultural Production</li>
<li>I - Industrial Prod/Mfg.</li>
<li>J - Direct Pay Permit</li>
<li>K - Direct Mail</li>
<li>L - Other</li>
<li>N - Local Government</li>
<li>P - Commercial Aquaculture (Canada)</li>
<li>Q - Commercial Fishery (Canada)</li>
<li>R - Non-resident (Canada)</li>
<li>MED1 - US MDET with exempt sales tax</li>
<li>MED2 - US MDET with taxable sales tax</li>
</ul>

<p><strong>DetailLevel:</strong> DetailLevel, <em>optional</em></p>

<p>Specifies the level of detail to return.</p>

<ul>
<li>Summary - summarizes document and jurisdiction detail with no line breakout</li>
<li>Document - only document detail</li>
<li>Line - document and line detail</li>
<li>Tax - document, line and jurisdiction detail</li>
</ul>

<p><strong>Discount:</strong> decimal, <em>optional</em></p>

<p>The discount amount to apply to the document. This may be used along with the line attribute Discounted in order to distribute a set discount amount proportionally across the applicable document lines.</p>

<p><strong>DocCode:</strong> string [50], <em>optional</em></p>

<p>While this is an optional field, serious consideration should be given to using it. If no value is sent, AvaTax assigns a GUID value to keep the document unique. This can make reconciliation a challenge.</p>

<p><strong>DocDate:</strong> DateTime, <em>required</em></p>

<p>The date on the invoice, purchase order, etc. Format YYYY-MM-DD.</p>

<p><strong>DocType:</strong> DocumentType</p>

<p>The document type specifies the category of the document and affects how the document is treated after a tax calculation.</p>

<ul>
<li>SalesOrder: This is a temporary document type and is not saved in tax history. GetTaxResult will return with a DocStatus of Temporary.</li>
<li>SalesInvoice: The document is a permanent invoice; document and tax calculation results are saved in the tax history. GetTaxResult will return with a DocStatus of Saved.</li>
<li>PurchaseOrder: This is a temporary document type and is not saved in tax history. GetTaxResult will return with a DocStatus of Temporary.</li>
<li>PurchaseInvoice : The document is a permanent invoice; document and tax calculation results are saved in the tax history. GetTaxResult will return with a DocStatus of Saved.</li>
<li>ReturnOrder: This is a temporary document type and is not saved in tax history. GetTaxResult will return with a DocStatus of Temporary.</li>
<li>ReturnInvoice: The document is a permanent sales return invoice; document and tax calculation results are saved in the tax history GetTaxResult will return with a DocStatus of Saved.</li>
</ul>

<p><strong>ExemptionNo:</strong> string [25], <em>optional</em></p>

<p>Any string value will cause the sale to be exempt. This should only be used if your finance team is manually verifying and tracking exemption certificates.</p>

<p><strong>PosLaneCode:</strong> string [50], <em>optional</em></p>

<p>Permits a Point of Sale application to record the unique code / ID / number associated with the terminal processing a sale.</p>

<p><strong>PurchaseOrderNo:</strong> string [50], <em>optional</em></p>

<p>Your customer&rsquo;s purchase order number.</p>

<p><strong>ReferenceCode:</strong> string [50], <em>optional</em></p>

<p>For returns, refers to the DocCode of the original invoice.</p>

<p><strong>TaxOverride:</strong> TaxOverride, <em>optional</em></p>

<p>TaxOverride for the document - can be used to manually override components of the tax calculation. See TaxOverride for more information.</p>

<p><strong>Addresses:</strong> Address, at least one required</p>

<p>Document address array. Should represent all origin and destination addresses which will be associated with individual lines.</p>

<p><strong>Lines:</strong> Line, at least one required</p>

<p>Document line array. There is a limit of 1000 lines per document.</p>
<h4 id='taxoverride'>TaxOverride</h4>
<p>Nested object describing any tax override applied to the document. TaxOverride only needs to be included when there is need to override our tax calculation. Most commonly on ReturnInvoices. For each document, this may be done at either the document or line level, but not both on the same document. </p>

<p>This will probably be handled within some conditional statement like:</p>

<ul>
<li>if(getTaxRequest.DocType == DocumentType.ReturnInvoice)</li>
<li>do TaxOverride</li>
</ul>

<p><strong>Reason:</strong> string [255], <em>required</em></p>

<p>This provides the reason for a tax override for audit purposes. Typical reasons include: &ldquo;Return&rdquo;, &ldquo;Layaway&rdquo;, &ldquo;Imported&rdquo;.</p>

<p><strong>TaxOverrideType:</strong> string, <em>required</em></p>

<ul>
<li><p>None: Default</p></li>
<li><p>TaxAmount: The TaxAmount overrides the total tax for the document. This is used for imported documents, returns, and layaways where the tax has already been calculated either by AvaTax or another means.</p></li>
<li><p>Exemption: Exemption certificates are overridden making the document taxable. This may be used for situations where a normally exempt entity needs to be treated as not exempt.</p></li>
<li><p>TaxDate: The TaxDate overrides the DocDate as the effective date used for tax calculation. This may effect rates, rules and other factors.</p></li>
</ul>

<p><strong>TaxDate:</strong> string, <em>must be valid date, required if TaxOverrideType is TaxDate</em></p>

<p>The override tax date to use. This is used when the tax has been previously calculated as in the case of a layaway, return or other reason indicated by the Reason element. If the date is not overridden, then it should be set to the same as the DocDate.</p>

<p><strong>TaxAmount:</strong> string, <em>must be numeric, required if TaxOverrideType is TaxAmount</em></p>

<p>The overriding amount of tax to apply. This is distributed across all taxable rows.</p>
<h4 id='line'>Line</h4>
<p>Input property of the GetTaxRequest describing item lines.</p>

<p><strong>LineNo:</strong> string [50], <em>required</em></p>

<p>Line item identifier. LineId uniquely identifies the line item row.</p>

<p><strong>DestinationCode:</strong> string, <em>required</em></p>

<p>Destination (ship-to) address code.DestinationCode references an address from the Addresses collection.</p>

<p><strong>OriginCode:</strong> string, <em>required</em></p>

<p>Origination (ship-from) address code. OriginCode references an address from the Addresses collection.</p>

<p><strong>ItemCode:</strong> string [50], <em>optional</em></p>

<p>Your item identifier, SKU, or UPC. Strongly recommended. </p>

<p><strong>TaxCode:</strong> string [25], <em>optional</em></p>

<p>Product taxability code of the line item. Can be an AvaTax system tax code, or a custom-defined tax code.</p>

<p><strong>CustomerUsageType:</strong> string [25], <em>optional</em></p>

<p>The client application customer or usage type. CustomerUsageType determines the exempt status of the transaction based on the exemption tax rules for the jurisdictions involved. Can also be referred to as Entity/Use Code.</p>

<p><strong>Description:</strong> string [255], <em>optional</em></p>

<p>Item description. Required for customers using our filing service.</p>

<p><strong>Qty:</strong> decimal, <em>required</em></p>

<p>Item quantity. The tax engine does NOT use this as a multiplier with price to get the Amount.</p>

<p><strong>Amount:</strong> decimal, <em>required</em></p>

<p>Total amount of item (extended amount, qty * unit price)</p>

<p><strong>Discounted:</strong> bool, <em>optional</em></p>

<p>Should be set to true if the document level discount is applied to this line item. Defaults to false.</p>

<p><strong>TaxIncluded:</strong> bool, <em>optional</em></p>

<p>Should be set to true if the tax is already included, and sale amount and tax should be back-calculated from the provided Line.Amount. Defaults to false.</p>

<p><strong>Ref1:</strong> string [250], <em>optional</em></p>

<p>Value stored with SalesInvoice DocType that is submitter dependent.</p>

<p><strong>Ref2:</strong> string [250], <em>optional</em></p>

<p>Value stored with SalesInvoice DocType that is submitter dependent.</p>

<p><strong>TaxOverride</strong> TaxOverride, <em>optional</em></p>

<p>Same as document-level TaxOverride. Use this if you only need to override individual lines.</p>
<h4 id='address'>Address</h4>
<p>Input property of GetTaxRequest representing addresses needed for tax calculations.</p>

<p><strong>AddressCode:</strong> string, <em>required</em></p>

<p>Reference code uniquely identifying this address instance.</p>

<p><strong>Line1:</strong> string [50], <em>required</em></p>

<p>Address line 1, required if Latitude and Longitude are not provided.</p>

<p><strong>Line2:</strong> string [50], <em>optional</em></p>

<p>Address line 2</p>

<p><strong>Line3:</strong> string [50], <em>optional</em></p>

<p>Address line 3</p>

<p><strong>City:</strong> string [50], <em>optional</em></p>

<p>City name, required unless PostalCode is specified and/or Latitude and Longitude are provided.</p>

<p><strong>Region:</strong> string [3], <em>optional</em></p>

<p>State, province, or region name. Required unless City is specified and/or Latitude and Longitude are provided.</p>

<p><strong>Country:</strong> string [2], <em>optional</em></p>

<p>Country code. If not provided, will default to &ldquo;US&rdquo;.</p>

<p><strong>PostalCode:</strong> string [11], <em>optional unless City and Region are not specified</em></p>

<p>Postal or ZIP code, Required unless City and Region are specified, and/or Latitude and Longitude are provided.</p>

<p><strong>Latitude:</strong> decimal, <em>optional</em></p>

<p>Geographic latitude. If Latitude is defined, it is expected that the longitude field will also be provided. Failure to do so will result in operation error.</p>

<p><strong>Longitude:</strong> decimal, <em>optional</em></p>

<p>Geographic longitude. If Longitude is defined, it is expected that the latitude field will also be provided. Fail to do so will result in operation error.</p>

<p><strong>TaxRegionId:</strong> int, <em>optional</em></p>

<p>AvaTax tax region identifier. If a non-zero value is entered into TaxRegionId, other fields will be ignored.</p>
<h3 id='gettaxresult'>GetTaxResult</h3><h4 id='properties'>Properties</h4>
<p>Document-level tax calculation information.</p>

<p><strong>DocCode:</strong> string [50]</p>

<p>The document code, if not supplied in the request the returned value is a GUID.</p>

<p><strong>DocDate:</strong> date</p>

<p>Date of invoice, sales order, purchase order, etc.</p>

<p><strong>TimeStamp:</strong> DateTime</p>

<p>Server timestamp of request.</p>

<p><strong>TotalAmount:</strong> decimal</p>

<p>Sum of all line Amount values.</p>

<p><strong>TotalDiscount:</strong> decimal</p>

<p>Sum of all TaxLine discount amounts.</p>

<p><strong>TotalExemption:</strong> decimal</p>

<p>Total exemption amount.</p>

<p><strong>TotalTaxable:</strong> decimal</p>

<p>Total taxable amount.</p>

<p><strong>TotalTax:</strong> decimal</p>

<p>Sum of all TaxLine tax amounts.</p>

<p><strong>TotalTaxCalculated:</strong> decimal</p>

<p>TotalTaxCalculated indicates the total tax calculated by AvaTax. This is usually the same as the TotalTax, except when a tax override amount is specified. 
This is for informational purposes. The TotalTax will still be used for reporting.</p>

<p><strong>TaxDate:</strong> date</p>

<p>Date used to assess tax rates and jurisdictions.</p>

<p><strong>TaxLines:</strong> TaxLine[]</p>

<p>Tax calculation details for each item line (returned for detail levels Line and Tax).</p>

<p><strong>TaxSummary:</strong> TaxDetail[]</p>

<p>Summary of the jurisdiction details for all item lines (returned for detail levels Summary and Line).</p>

<p><strong>TaxDetails:</strong> TaxDetail[]</p>

<p>Tax calculation details for each jurisdiction per line (returned for detail level Tax).</p>

<p><strong>TaxAddresses:</strong> TaxAddress[]</p>

<p>Addresses used in tax calculations (returned for detail levels Line and Tax).</p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Severity as per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>Messages:</strong> Message[]</p>

<p>As per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>
<h4 id='taxline'>TaxLine</h4><h4 id='taxdetail'>TaxDetail</h4><h4 id='taxaddress'>TaxAddress</h4>
          <h2 id='canceltax'>CancelTax</h2><pre class="highlight shell">curl <span class="s2">"https://development.avalara.net/1.0/tax/cancel"</span> --user 1234567890:A1B2C3D4E5F6G7H8 --header <span class="s2">"Content-Type: text/json"</span> --data @/Docs/cancelTaxRequest.json

<span class="o">{</span>
<span class="s2">"CompanyCode"</span>:<span class="s2">"APITrialCompany"</span>,
<span class="s2">"DocType"</span>:<span class="s2">"SalesInvoice"</span>,
<span class="s2">"DocCode"</span>:<span class="s2">"INV001"</span>,
<span class="s2">"CancelCode"</span>:<span class="s2">"DocVoided"</span>
<span class="o">}</span>
</pre>
<pre class="highlight csharp"><span class="n">var</span> <span class="n">cancelTaxRequest</span> <span class="p">=</span> 
    <span class="k">new</span> <span class="n">CancelTaxRequest</span><span class="p">{</span>
      <span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">,</span>
      <span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">,</span>
      <span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">,</span>
      <span class="n">CancelCode</span> <span class="p">=</span> <span class="n">CancelCode</span><span class="p">.</span><span class="n">DocVoided</span>
<span class="p">};</span>

<span class="c1">//Convert the request to XML
</span><span class="n">XmlSerializerNamespaces</span> <span class="n">namesp</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlSerializerNamespaces</span><span class="p">();</span>
<span class="n">namesp</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span> 
<span class="n">XmlWriterSettings</span> <span class="n">settings</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlWriterSettings</span><span class="p">();</span>
<span class="n">settings</span><span class="p">.</span><span class="n">OmitXmlDeclaration</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">XmlSerializer</span> <span class="n">x</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlSerializer</span><span class="p">(</span><span class="n">cancelTaxRequest</span><span class="p">.</span><span class="nf">GetType</span><span class="p">());</span>
<span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringBuilder</span><span class="p">();</span>
<span class="n">x</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="n">XmlTextWriter</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">sb</span><span class="p">,</span> <span class="n">settings</span><span class="p">),</span> <span class="n">cancelTaxRequest</span><span class="p">,</span> <span class="n">namesp</span><span class="p">);</span>
<span class="n">XmlDocument</span> <span class="n">doc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlDocument</span><span class="p">();</span>
<span class="n">doc</span><span class="p">.</span><span class="nf">LoadXml</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>

<span class="c1">//Call the service
</span><span class="n">Uri</span> <span class="n">address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="n">serviceURL</span> <span class="p">+</span> <span class="s">"/1.0/tax/cancel"</span><span class="p">);</span>
<span class="n">HttpWebRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">address</span><span class="p">)</span><span class="k">as</span> <span class="n">HttpWebRequest</span><span class="p">;</span>

<span class="c1">//Add Authorization header
</span><span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="n">HttpRequestHeader</span><span class="p">.</span><span class="n">Authorization</span><span class="p">,</span> 
    <span class="s">"Basic "</span> <span class="p">+</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="n">ASCIIEncoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">accountNumber</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">licenseKey</span><span class="p">)));</span>
<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"POST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ContentType</span> <span class="p">=</span> <span class="s">"text/xml"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ContentLength</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span>
<span class="n">Stream</span> <span class="n">newStream</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetRequestStream</span><span class="p">();</span>
<span class="n">newStream</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">ASCIIEncoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()),</span> <span class="m">0</span><span class="p">,</span> <span class="n">sb</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>

<span class="n">WebResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
</pre>
<pre class="highlight java"><span class="n">CancelTaxRequest</span> <span class="n">cancelTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CancelTaxRequest</span><span class="o">();</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">CompanyCode</span> <span class="o">=</span> <span class="s">"APITrialCompany"</span><span class="o">;</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">DocType</span> <span class="o">=</span> <span class="n">TaxSvc</span><span class="o">.</span><span class="na">DocType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">;</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">DocCode</span> <span class="o">=</span> <span class="s">"INV001"</span><span class="o">;</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">CancelCode</span> <span class="o">=</span> <span class="n">CancelCode</span><span class="o">.</span><span class="na">DocVoided</span><span class="o">;</span>

<span class="c1">//Create URL</span>
<span class="n">String</span> <span class="n">target</span> <span class="o">=</span> <span class="n">serviceURL</span> <span class="o">+</span> <span class="s">"/1.0/tax/cancel"</span><span class="o">;</span>
<span class="n">URL</span> <span class="n">url</span><span class="o">;</span>
<span class="n">HttpURLConnection</span> <span class="n">conn</span><span class="o">;</span>

<span class="c1">//Connect to URL with authorization header, request content.</span>
<span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">target</span><span class="o">);</span>
<span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span><span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestMethod</span><span class="o">(</span><span class="s">"POST"</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setDoOutput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setDoInput</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setUseCaches</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setAllowUserInteraction</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="c1">//Create auth content</span>
<span class="n">String</span> <span class="n">encoded</span> <span class="o">=</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encodeBase64</span><span class="o">((</span><span class="n">accountNumber</span> <span class="o">+</span> <span class="s">":"</span> <span class="o">+</span> <span class="n">licenseKey</span><span class="o">).</span><span class="na">getBytes</span><span class="o">()));</span>
<span class="c1">//Add authorization header</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="n">encoded</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/x-www-form-urlencoded"</span><span class="o">);</span>

<span class="n">ObjectMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
<span class="n">mapper</span><span class="o">.</span><span class="na">setSerializationInclusion</span><span class="o">(</span><span class="n">Include</span><span class="o">.</span><span class="na">NON_NULL</span><span class="o">);</span>
<span class="c1">//Tells the serializer to only include</span>
<span class="c1">//those parameters that are not null</span>
<span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">writeValueAsString</span><span class="o">(</span><span class="n">cancelTaxRequest</span><span class="o">);</span>

<span class="c1">//Uncomment to see the content of the</span>
<span class="c1">//request object</span>
<span class="c1">//System.out.println(content);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span><span class="o">(</span><span class="s">"Content-Length"</span><span class="o">,</span> <span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">content</span><span class="o">.</span><span class="na">length</span><span class="o">()));</span>

<span class="n">DataOutputStream</span> <span class="n">wr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataOutputStream</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
<span class="n">wr</span><span class="o">.</span><span class="na">writeBytes</span> <span class="o">(</span><span class="n">content</span><span class="o">);</span>
<span class="n">wr</span><span class="o">.</span><span class="na">flush</span> <span class="o">();</span>
<span class="n">wr</span><span class="o">.</span><span class="na">close</span> <span class="o">();</span>

<span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>
<span class="n">CancelTaxResponse</span> <span class="n">res</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="n">CancelTaxResponse</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$cancelTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CancelTaxRequest</span><span class="p">();</span>
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="nx">DocumentType</span><span class="o">::</span><span class="nv">$SalesInvoice</span><span class="p">);</span>     
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s2">"INV001"</span><span class="p">);</span>        
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setCancelCode</span><span class="p">(</span><span class="nx">CancelCode</span><span class="o">::</span><span class="nv">$DocVoided</span><span class="p">);</span>

<span class="nv">$url</span> <span class="o">=</span> <span class="nv">$serviceURL</span><span class="o">.</span><span class="s2">"/1.0/tax/cancel"</span><span class="p">;</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">(</span><span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPAUTH</span><span class="p">,</span> <span class="nx">CURLAUTH_BASIC</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_USERPWD</span><span class="p">,</span> <span class="nv">$accountNumber</span><span class="o">.</span><span class="s2">":"</span><span class="o">.</span><span class="nv">$licenseKey</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$cancelTaxRequest</span><span class="p">));</span> 
<span class="nv">$curl_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>
<span class="nb">curl_close</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nx">CancelTaxResult</span><span class="o">::</span><span class="na">parseResult</span><span class="p">(</span><span class="nv">$curl_response</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
</span><span class="s2">"CancelTaxResult"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="s2">"TransactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">437966608</span><span class="p">,</span><span class="w">
</span><span class="s2">"ResultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
</span><span class="s2">"DocId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34067366"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>

<p>Voids or deletes and existing transaction record from the AvaTax system.</p>
<h3 id='url-and-method'>URL and Method</h3>
<p>URL: /1.0/tax/cancel POST</p>

<p>For development, 
    https://development.avalara.net
    /1.0/tax/cancel</p>

<p>For production, 
    https://avatax.avalara.net
    /1.0/tax/cancel</p>

<p>Note that xml-encoded requests should use /1.0/tax/cancel.xml</p>
<h3 id='headers'>Headers</h3>
<p><strong>Authorization:</strong> header, <em>required</em></p>

<p>In the format &ldquo;Basic [account number]:[license key]&rdquo; encoded to <a href="http://en.wikipedia.org/wiki/Base64">Base64</a>, as per <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">basic access authentication</a>.</p>

<p>Sample: Basic a2VlcG1vdmluZzpub3RoaW5nMnNlZWhlcmU=</p>

<p><strong>Content Type:</strong> header, <em>required</em></p>

<p>Standard content type header, indicating the content type of the request content.</p>

<p><strong>Content Length:</strong> header, <em>required</em></p>

<p>Standard content length header, indicating the size of the request content.</p>
<h3 id='canceltaxrequest'>CancelTaxRequest</h3>
<p>Input for CancelTax indicating the document that should be cancelled and the reason for the operation.</p>
<h4 id='properties'>Properties</h4>
<p><strong>CompanyCode:</strong> string [25], <em>required</em></p>

<p>Client application company reference code.  Not required if the document is identified by DocId.</p>

<p><strong>DocType:</strong> string, <em>required</em></p>

<p>Value describing what type of tax document is being cancelled. One of:</p>

<ul>
<li>SalesInvoice</li>
<li>ReturnInvoice</li>
<li>PurchaseInvoice</li>
</ul>

<p>Not required if the document is identified by DocId.</p>

<p><strong>DocCode:</strong> string [50], <em>required</em></p>

<p>Client application identifier describing this tax transaction (i.e. invoice number, sales order number, etc.).  Not required if the document is identified by DocId.</p>

<p><strong>CancelCode:</strong> string, <em>required</em></p>

<p>The reason for cancelling the tax record. </p>

<ul>
<li>Unspecified</li>
<li>PostFailed</li>
<li>DocDeleted</li>
<li>DocVoided</li>
<li>AdjustmentCancelled</li>
</ul>

<p>For more information, see <a href="/api-docs/designing-your-integration/canceltax" target="_blank">Voiding Documents</a>.</p>

<p><strong>DocId:</strong> string, <em>optional</em></p>

<p>Avatax-assigned unique Document Id, can be used in place of DocCode, DocType, and CompanyCode</p>
<h3 id='canceltaxresult'>CancelTaxResult</h3><h4 id='properties'>Properties</h4>
<p><strong>TransactionId:</strong> string</p>

<p>The unique numeric identifier of the API operation assigned by the AvaTax service.</p>

<p><strong>DocId:</strong> string</p>

<p>The unique numeric identifier (Document ID) assigned to the tax document in question by the AvaTax Service.</p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>SeverityLevel as per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>Messages:</strong> Message[]</p>

<p>As per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

          <h2 id='estimatetax'>EstimateTax</h2>
<p>Retrieves tax rate details for the supplied geographic coordinates and sale amount.
Since the REST API does not provide an explicit ping function, this method can also be used to test connectivity to the service.</p>
<pre class="highlight shell">curl --user 1234567890:A1B2C3D4E5F6G7H8 <span class="s2">"https://development.avalara.net/1.0/tax/47.627935,-122.51702/get?saleamount=10"</span>
</pre>
<pre class="highlight java"><span class="c1">// Required Request Parameters</span>
<span class="n">Double</span> <span class="n">latitude</span> <span class="o">=</span> <span class="mf">47.627935</span><span class="o">;</span>
<span class="n">Double</span> <span class="kt">long</span><span class="n">itude</span> <span class="o">=</span> <span class="o">-</span><span class="mf">122.51702</span><span class="o">;</span>
<span class="n">Double</span> <span class="n">saleAmount</span> <span class="o">=</span> <span class="mf">10.0</span><span class="o">;</span>
<span class="c1">//Create query/url</span>
<span class="n">String</span> <span class="n">queryparams</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">toQuery</span><span class="o">();</span>
<span class="n">String</span> <span class="n">taxest</span> <span class="o">=</span> <span class="n">svcURL</span><span class="o">+</span> <span class="s">"/1.0/tax/"</span> <span class="o">+</span>
    <span class="n">latitude</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> <span class="s">","</span> <span class="o">+</span>
    <span class="kt">long</span><span class="n">itude</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">+</span> 
    <span class="s">"/get?saleamount="</span> <span class="o">+</span> 
    <span class="n">saleAmount</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
<span class="n">URL</span> <span class="n">url</span><span class="o">;</span>

<span class="n">HttpURLConnection</span> <span class="n">conn</span><span class="o">;</span>

<span class="c1">//Connect to specified URL </span>
<span class="c1">//with authorization header</span>
<span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">taxest</span><span class="o">);</span>
<span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span><span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

<span class="c1">//Create auth content</span>
<span class="n">String</span> <span class="n">encoded</span> <span class="o">=</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encodeBase64</span><span class="o">((</span><span class="n">accountNumber</span> <span class="o">+</span> <span class="s">":"</span><span class="o">+</span><span class="n">licenseKey</span><span class="o">).</span><span class="na">getBytes</span><span class="o">()));</span>

<span class="c1">//Add authorization header</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span> <span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="n">encoded</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>

<span class="c1">//Deserialization object</span>
<span class="n">ObjectMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
<span class="n">ValidateResult</span> <span class="n">vres</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span>
    <span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span>
    <span class="n">ValidateResult</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre>
<pre class="highlight csharp"><span class="kt">decimal</span> <span class="n">latitude</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="m">47.627935</span><span class="p">;</span>
<span class="kt">decimal</span> <span class="n">longitude</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)-</span><span class="m">122.51702</span><span class="p">;</span>
<span class="kt">decimal</span> <span class="n">saleAmount</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="m">10</span><span class="p">;</span>
<span class="c1">// Call the service
</span><span class="n">Uri</span> <span class="n">address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span>
    <span class="n">svcURL</span> <span class="p">+</span> <span class="s">"tax/"</span> <span class="p">+</span> <span class="n">latitude</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()+</span>
    <span class="s">","</span> <span class="p">+</span> <span class="n">longitude</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()</span> <span class="p">+</span> 
    <span class="s">"/get.xml?saleamount="</span> <span class="p">+</span> <span class="n">saleAmount</span><span class="p">);</span>
<span class="n">HttpWebRequest</span> <span class="n">request</span> <span class="p">=</span> 
    <span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">webAddress</span><span class="p">)</span> 
    <span class="k">as</span> <span class="n">HttpWebRequest</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span>
    <span class="n">HttpRequestHeader</span><span class="p">.</span><span class="n">Authorization</span><span class="p">,</span> 
    <span class="s">"Basic "</span> <span class="p">+</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span>
        <span class="n">ASCIIEncoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span>
            <span class="n">accountNum</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">license</span><span class="p">)));</span>
<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="n">WebResponse</span> <span class="n">response</span> <span class="p">=</span> 
    <span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$latitude</span> <span class="o">=</span> <span class="mf">47.627935</span><span class="p">;</span>
<span class="nv">$longitude</span> <span class="o">=</span> <span class="o">-</span><span class="mf">122.51702</span><span class="p">;</span>
<span class="nv">$saleAmount</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="nv">$estimateTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EstimateTaxRequest</span><span class="p">(</span><span class="nv">$latitude</span><span class="p">,</span> <span class="nv">$longitude</span><span class="p">,</span> <span class="nv">$saleAmount</span><span class="p">);</span>

<span class="nv">$url</span> <span class="o">=</span>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">[</span><span class="s1">'url'</span><span class="p">]</span><span class="o">.</span><span class="s1">'/1.0/tax/'</span><span class="o">.</span>
   <span class="nv">$estimateTaxRequest</span><span class="o">-&gt;</span><span class="na">getLatitude</span><span class="p">()</span><span class="o">.</span><span class="s2">","</span><span class="o">.</span>
   <span class="nv">$estimateTaxRequest</span><span class="o">-&gt;</span><span class="na">getLongitude</span><span class="p">()</span><span class="o">.</span>
   <span class="s1">'/get?saleamount='</span><span class="o">.</span>
   <span class="nv">$estimateTaxRequest</span><span class="o">-&gt;</span><span class="na">getSaleAmount</span><span class="p">();</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPAUTH</span><span class="p">,</span> <span class="nx">CURLAUTH_BASIC</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_USERPWD</span><span class="p">,</span> 
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">[</span><span class="s1">'account'</span><span class="p">]</span><span class="o">.</span><span class="s2">":"</span><span class="o">.</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">[</span><span class="s1">'license'</span><span class="p">]);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span>  <span class="mi">1</span><span class="p">);</span>

<span class="nv">$curl_response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nx">EstimateTaxResult</span><span class="o">::</span><span class="na">parseResult</span><span class="p">(</span><span class="nv">$curl_response</span><span class="p">);</span>  
<span class="cp">?&gt;</span>    
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.087</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.87</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TaxDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.065</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.65</span><span class="p">,</span><span class="w">
            </span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA STATE TAX"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"JurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.022</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.22</span><span class="p">,</span><span class="w">
            </span><span class="s2">"JurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAINBRIDGE ISLAND"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"TaxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA CITY TAX"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"ResultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<h3 id='url-and-method'>URL and Method</h3>
<p>URL: /1.0/tax/get GET</p>

<p>For development, 
    https://development.avalara.net
    /1.0/tax/get</p>

<p>For production, 
    https://avatax.avalara.net
    /1.0/tax/get</p>

<p>Note that xml-encoded requests should use /1.0/tax/get.xml</p>
<h3 id='headers'>Headers</h3>
<p><strong>Authorization:</strong> header, <em>required</em></p>

<p>In the format &ldquo;Basic [account number]:[license key]&rdquo; encoded to <a href="http://en.wikipedia.org/wiki/Base64">Base64</a>, as per <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">basic access authentication</a>.</p>

<p>Sample: Basic a2VlcG1vdmluZzpub3RoaW5nMnNlZWhlcmU=</p>

<p><strong>Content Type:</strong> header, <em>required</em></p>

<p>Standard content type header, indicating the content type of the request content.</p>

<p><strong>Content Length:</strong> header, <em>required</em></p>

<p>Standard content length header, indicating the size of the request content.</p>
<h3 id='estimatetax-request'>EstimateTax Request</h3>
<p>Retrieves tax rate details for the supplied US geographic coordinates and sale amount.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Latitude:</strong> decimal, <em>required</em></p>

<p>The latitude of the geographic coordinates to get tax for based on the sale amount</p>

<p><strong>Longitude:</strong> decimal, <em>required</em></p>

<p>The longitude of the geographic coordinates to get tax for based on the sale amount</p>

<p><strong>SaleAmount:</strong> decimal, <em>required</em></p>

<p>The amount of sale requiring tax calculation, in decimal format</p>
<h3 id='estimatetax-result'>EstimateTax Result</h3>
<p>Output for tax/get GET showing the retrived tax details and calculation.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Rate:</strong> decimal</p>

<p>Total effective tax rate</p>

<p><strong>Tax:</strong> decimal</p>

<p>Total calculated tax amount</p>

<p><strong>TaxDetails:</strong> TaxDetail[]</p>

<p>Tax calculation details for each jurisdiction.</p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>SeverityLevel as per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>Messages:</strong> Message[]</p>

<p>As per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>
<h3 id='taxdetail'>TaxDetail</h3>
<p>Tax details by jurisdiction.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Country:</strong> string [2]</p>

<p>Country of tax jurisdiction</p>

<p><strong>JurisName:</strong> string [200]</p>

<p>Name of tax jurisdiction</p>

<p><strong>JurisType:</strong> string [9]</p>

<p>Regional type of tax jurisdiction</p>

<p><strong>Rate:</strong> decimal</p>

<p>Effective tax rate for tax jurisdiction</p>

<p><strong>Region:</strong> string [3]</p>

<p>Region of tax jurisdiction</p>

<p><strong>Tax:</strong> decimal</p>

<p>Tax amount</p>

<p><strong>TaxName:</strong> string [75]</p>

<p>Tax name</p>

          <h2 id='validate'>Validate</h2>
<p>Normalizes a single US or Canadian address, providing a non-ambiguous address match.</p>
<pre class="highlight shell">curl --user 1234567890:A1B2C3D4E5F6G7H8 <span class="s2">"https://development.avalara.net/1.0/address/validate?Line1=118+N+Clark+St&amp;Line2=Suite+100&amp;Line3=ATTN+Accounts+Payable&amp;City=Chicago&amp;Region=IL&amp;PostalCode=60602&amp;Country=US"</span>
</pre>
<pre class="highlight csharp"><span class="n">Address</span> <span class="n">address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"118 N Clark St"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"Chicago"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"IL"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Line2</span> <span class="p">=</span> <span class="s">"Suite 100"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Line3</span> <span class="p">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Country</span> <span class="p">=</span> <span class="s">"US"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"60602"</span><span class="p">;</span>

<span class="c1">// Convert input address data to query string
</span><span class="kt">string</span> <span class="n">querystring</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">;</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">Line1</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"Line1="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">Line1</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">Line2</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"&amp;Line2="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">Line2</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">Line3</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"&amp;Line3="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">Line3</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">City</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"&amp;City="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">City</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">Region</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"&amp;Region="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">Region</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">PostalCode</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"&amp;PostalCode="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">PostalCode</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>
<span class="n">querystring</span> <span class="p">+=</span> <span class="p">(</span><span class="n">address</span><span class="p">.</span><span class="n">Country</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">?</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span> <span class="p">:</span> <span class="s">"&amp;Country="</span> <span class="p">+</span> <span class="n">address</span><span class="p">.</span><span class="n">Country</span><span class="p">.</span><span class="nf">Replace</span><span class="p">(</span><span class="s">" "</span><span class="p">,</span> <span class="s">"+"</span><span class="p">);</span>

<span class="c1">// Call the service
</span><span class="n">Uri</span> <span class="n">webAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="n">svcURL</span> <span class="p">+</span> <span class="s">"address/validate.xml?"</span> <span class="p">+</span> <span class="n">querystring</span><span class="p">);</span>
<span class="n">HttpWebRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="n">WebRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">webAddress</span><span class="p">)</span> <span class="k">as</span> <span class="n">HttpWebRequest</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">HttpRequestHeader</span><span class="p">.</span><span class="n">Authorization</span><span class="p">,</span> <span class="s">"Basic "</span> <span class="p">+</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="n">ASCIIEncoding</span><span class="p">.</span><span class="n">ASCII</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">accountNum</span> <span class="p">+</span> <span class="s">":"</span> <span class="p">+</span> <span class="n">license</span><span class="p">)));</span>
<span class="n">request</span><span class="p">.</span><span class="n">Method</span> <span class="p">=</span> <span class="s">"GET"</span><span class="p">;</span>

<span class="n">WebResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">GetResponse</span><span class="p">();</span>
</pre>
<pre class="highlight java"><span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>
<span class="n">address</span><span class="o">.</span><span class="na">Line1</span> <span class="o">=</span> <span class="s">"118 N Clark St"</span><span class="o">;</span>
<span class="n">address</span><span class="o">.</span><span class="na">City</span> <span class="o">=</span> <span class="s">"Chicago"</span><span class="o">;</span>
<span class="n">address</span><span class="o">.</span><span class="na">Region</span> <span class="o">=</span> <span class="s">"IL"</span><span class="o">;</span>
<span class="n">address</span><span class="o">.</span><span class="na">Line2</span> <span class="o">=</span> <span class="s">"Suite 100"</span><span class="o">;</span>
<span class="n">address</span><span class="o">.</span><span class="na">Line3</span> <span class="o">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="o">;</span>
<span class="n">address</span><span class="o">.</span><span class="na">Country</span> <span class="o">=</span> <span class="s">"US"</span><span class="o">;</span>
<span class="n">address</span><span class="o">.</span><span class="na">PostalCode</span> <span class="o">=</span> <span class="s">"60602"</span><span class="o">;</span>

<span class="c1">//Create query/url</span>
<span class="n">String</span> <span class="n">queryparams</span> <span class="o">=</span> <span class="n">address</span><span class="o">.</span><span class="na">toQuery</span><span class="o">();</span>
<span class="n">String</span> <span class="n">addrval</span> <span class="o">=</span> <span class="n">serviceURL</span> <span class="o">+</span> <span class="s">"address/validate?"</span><span class="o">+</span> <span class="n">queryparams</span><span class="o">;</span>
<span class="n">URL</span> <span class="n">url</span><span class="o">;</span>

<span class="n">HttpURLConnection</span> <span class="n">conn</span><span class="o">;</span>

<span class="c1">//Connect to specified URL </span>
<span class="c1">//with authorization header</span>
<span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">addrval</span><span class="o">);</span>
<span class="n">conn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span><span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span>

<span class="c1">//Create auth content</span>
<span class="n">String</span> <span class="n">encoded</span> <span class="o">=</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">Base64</span><span class="o">.</span><span class="na">encodeBase64</span><span class="o">((</span><span class="n">accountNumber</span><span class="o">+</span><span class="s">":"</span><span class="o">+</span><span class="n">licenseKey</span><span class="o">).</span><span class="na">getBytes</span><span class="o">()));</span>

<span class="c1">//Add authorization header</span>
<span class="n">conn</span><span class="o">.</span><span class="na">setRequestProperty</span> <span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="n">encoded</span><span class="o">);</span>
<span class="n">conn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span>

<span class="c1">//Deserialization object</span>
<span class="n">ObjectMapper</span> <span class="n">mapper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectMapper</span><span class="o">();</span>
<span class="n">ValidateResult</span> <span class="n">vres</span> <span class="o">=</span> <span class="n">mapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span><span class="n">conn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span><span class="n">ValidateResult</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$address</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"118 N Clark St"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Chicago"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"IL"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">"Suite 100"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">"ATTN Accounts Payable"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"60602"</span><span class="p">);</span>
<span class="nv">$validateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ValidateRequest</span><span class="p">();</span>
<span class="nv">$validateRequest</span><span class="o">-&gt;</span><span class="na">setAddress</span><span class="p">(</span><span class="nv">$address</span><span class="p">);</span>
<span class="nv">$url</span> <span class="o">=</span>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">config</span><span class="p">[</span><span class="s1">'url'</span><span class="p">]</span><span class="o">.</span><span class="s1">'/1.0/address/validate?'</span><span class="o">.</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$validateRequest</span><span class="o">-&gt;</span><span class="na">getAddress</span><span class="p">());</span>
<span class="nv">$curl</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPAUTH</span><span class="p">,</span> <span class="nx">CURLAUTH_BASIC</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_USERPWD</span><span class="p">,</span> <span class="nv">$accountNumber</span><span class="o">.</span><span class="s2">":"</span><span class="o">.</span><span class="nv">$licenseKey</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$curl</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$curl</span><span class="p">);</span>

<span class="nx">ValidateResult</span><span class="o">::</span><span class="na">parseResult</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
</span><span class="s2">"ResultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Success"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="s2">"Line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ATTN Accounts Payable"</span><span class="p">,</span><span class="w">
</span><span class="s2">"City"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
</span><span class="s2">"PostalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60602-1304"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
</span><span class="s2">"County"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cook"</span><span class="p">,</span><span class="w">
</span><span class="s2">"FipsCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1703100000"</span><span class="p">,</span><span class="w">
</span><span class="s2">"CarrierRoute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C012"</span><span class="p">,</span><span class="w">
</span><span class="s2">"PostNet"</span><span class="p">:</span><span class="w"> </span><span class="s2">"606021304990"</span><span class="p">,</span><span class="w">
</span><span class="s2">"AddressType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118 N Clark St Ste 100"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<h3 id='url-and-method'>URL and Method</h3>
<p>URL: /1.0/address/validate GET</p>

<p>For development, 
    https://development.avalara.net
    /1.0/address/validate</p>

<p>For production, 
    https://avatax.avalara.net
    /1.0/address/validate</p>

<p>Note that xml-encoded requests should use /1.0/address/validate.xml</p>
<h3 id='headers'>Headers</h3>
<p><strong>Authorization:</strong> header, <em>required</em></p>

<p>In the format &ldquo;Basic [account number]:[license key]&rdquo; encoded to <a href="http://en.wikipedia.org/wiki/Base64">Base64</a>, as per <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">basic access authentication</a>.</p>

<p>Sample: Basic a2VlcG1vdmluZzpub3RoaW5nMnNlZWhlcmU=</p>

<p><strong>Content Type:</strong> header, <em>required</em></p>

<p>Standard content type header, indicating the content type of the request content.</p>

<p><strong>Content Length:</strong> header, <em>required</em></p>

<p>Standard content length header, indicating the size of the request content.</p>
<h3 id='validate-request'>Validate Request</h3>
<p>Input to normalize a single US or Canadian address, providing a non-ambiguous address match.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Line1:</strong> string [50], <em>required</em></p>

<p>Address line 1</p>

<p><strong>Line2:</strong> string [50], <em>optional</em></p>

<p>Address line 2</p>

<p><strong>Line3:</strong> string [50], <em>optional</em></p>

<p>Address line 3</p>

<p><strong>City:</strong> string [50], <em>optional unless PostalCode is not specified</em></p>

<p>City name</p>

<p><strong>Region:</strong> string [3], <em>optional unless PostalCode is not specified</em></p>

<p>State, province, or region name</p>

<p><strong>Country:</strong> string [50], <em>optional</em></p>

<p>Country code</p>

<p><strong>PostalCode:</strong> string [11], <em>optional unless City and Region are not specified</em></p>

<p>Postal or ZIP code</p>
<h3 id='validateresult'>ValidateResult</h3>
<p>Output for address/validate showing the validated address match or address validation errors.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Line1:</strong> string [50]</p>

<p>Address line 1</p>

<p><strong>Line2:</strong> string [50]</p>

<p>Address line 2</p>

<p><strong>Line3:</strong> string [50]</p>

<p>Address line 3</p>

<p><strong>City:</strong> string [50]</p>

<p>City name</p>

<p><strong>Region:</strong> string [3]</p>

<p>State, province or region name</p>

<p><strong>Country:</strong> string [2]</p>

<p>Country code as ISO 3166-1 (Alpha-2) country code (e.g. US)</p>

<p><strong>AddressType:</strong> string [1]</p>

<p>Address type code.</p>

<ul>
<li>F - Firm or company address</li>
<li>G - General Delivery address</li>
<li>H - High-rise or business complex</li>
<li>P - PO Box address</li>
<li>R - Rural route address</li>
<li>S - Street or residential address</li>
</ul>

<p><strong>PostalCode:</strong> string [11]</p>

<p>Postal or ZIP code</p>

<p><strong>County:</strong> string [50]</p>

<p>County name</p>

<p><strong>FipsCode:</strong> string [10]</p>

<p>FIPSCode is a unique 10-digit code representing each geographic combination of state, county, and city. The code is made up of the Federal Information Processing Code (FIPS) that uniquely identifies each state, county, and city in the U.S. Returned for US addresses only.</p>

<p>Digits represent jurisdiction codes:</p>

<ul>
<li>1-2 State code</li>
<li>3-5 County code</li>
<li>6-10 City code</li>
</ul>

<p><strong>CarrierRoute:</strong> string [4]</p>

<p>CarrierRoute is a four-character string representing a US postal carrier route. The first character of this property, the term, is always alphabetic, and the last three numeric. For example, &ldquo;R001&rdquo; or &ldquo;C027&rdquo; would be typical carrier routes. The alphabetic letter indicates the type of delivery associated with this address. Returned for US addresses only.</p>

<ul>
<li>B - PO Box</li>
<li>C - City delivery</li>
<li>G - General delivery</li>
<li>H - Highway contract</li>
<li>R - Rural route</li>
</ul>

<p><strong>TaxRegionId:</strong> string</p>

<p>AvaTax tax region identifier</p>

<p><strong>PostNet:</strong> string [12]</p>

<p>POSTNet is a 12-digit barcode containing the ZIP Code, ZIP+4 Code, and the delivery point code, used by the USPS to direct mail. Returned for US addresses only digits represent delivery information:</p>

<ul>
<li>1-5 ZIP code</li>
<li>6-9 Plus4 code</li>
<li>10-11 Delivery point</li>
<li>12 Check digit</li>
</ul>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>SeverityLevel as per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>Messages:</strong> Message[]</p>

<p>As per <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

          <h2 id='errors'>Errors</h2>
<blockquote>
<p>Error messages are presented in the following format:</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
</span><span class="s2">"ResultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="s2">"Summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company not found.  Verify the CompanyCode."</span><span class="p">,</span><span class="w">
</span><span class="s2">"Details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APITrialCompany"</span><span class="p">,</span><span class="w">
</span><span class="s2">"RefersTo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CompanyCode"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="p">,</span><span class="w">
</span><span class="s2">"Source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Avalara.AvaTax.Services.Tax"</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<h3 id='message'>Message</h3>
<p>Generic format for error messages in output objects. Errors are returned in the Message class. <a href="http://developer.avalara.com/api-docs/designing-your-integration/errors-and-outages/common-errors">See Error Lists</a>.</p>
<h3 id='properties'>Properties</h3>
<p><em>Summary:</em> string [int MAX_VALUE]</p>

<p>The message summary in short form.</p>

<p><em>Details:</em> string [int MAX_VALUE]</p>

<p>Description of the error or warning.</p>

<p><em>RefersTo:</em> string [int MAX_VALUE]</p>

<p>The data used during the request that caused the message to be generated.</p>

<p><em>Severity:</em> enum as string [see below]</p>

<p>Classifies severity of message. One of:</p>

<ul>
<li>Success</li>
<li>Error</li>
<li>Warning</li>
<li>Exception</li>
</ul>

<p><em>Source:</em> string [int MAX_VALUE]</p>

<p>The internal location that generated the message.</p>

          <h1 id='soap-api'>SOAP API</h1>
<p>The Avalara SOAP API exposes all methods available for interacting with the AvaTax service, allowing calculation of tax, modification of documents, and validation of addresses - including some functionality not exposed by our REST API.
If you&rsquo;re unsure of which API to use, a full comparison of the differences between the functionality provided by our REST and SOAP interfaces is documented <a href="http://developer.avalara.com/api-docs/designing-your-integration/soap-or-rest">here</a>.</p>
<h2 id='url'>URL</h2>
<p><strong>Development:</strong> https://development.avalara.net/</p>

<p><strong>Production:</strong> https://avatax.avalara.net/</p>
<h2 id='headers'>Headers</h2><pre class="highlight shell">&lt;SOAP-ENV:Header&gt;
&lt;wsse:Security xmlns:wsse<span class="o">=</span><span class="s2">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"</span> SOAP-ENV:mustUnderstand<span class="o">=</span><span class="s2">"1"</span>&gt;
&lt;wsse:UsernameToken&gt;
&lt;wsse:Username&gt;1234567890&lt;/wsse:Username&gt;
&lt;wsse:Password <span class="nv">Type</span><span class="o">=</span><span class="s2">"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText"</span>&gt;A1B2C3D4E5F6G7H8&lt;/wsse:Password&gt;
&lt;/wsse:UsernameToken&gt;
&lt;/wsse:Security&gt;
&lt;Profile <span class="nv">xmlns</span><span class="o">=</span><span class="s2">"http://avatax.avalara.com/services"</span> SOAP-ENV:actor<span class="o">=</span><span class="s2">"http://schemas.xmlsoap.org/soap/actor/next"</span> SOAP-ENV:mustUnderstand<span class="o">=</span><span class="s2">"0"</span>&gt;
&lt;Client&gt;AvaTaxSample&lt;/Client&gt;
&lt;Adapter&gt;customAdapter&lt;/Adapter&gt;
&lt;Name&gt;Development&lt;/Name&gt;
&lt;/Profile&gt;
&lt;/SOAP-ENV:Header&gt;
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>
<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>
<span class="cp">?&gt;</span>

</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

</pre>
<h4 id='configuration'>Configuration</h4>
<p><strong>Account:</strong> int as string [10], <em>required</em></p>

<p>The unique account number provided by Avalara for verification against the service. 
If you are on a free trial and don&rsquo;t have a license key, use <strong>Username</strong>.</p>

<p><strong>License Key:</strong> string [16], <em>required</em></p>

<p>The unique alpha-numeric key provided by Avalara for verification against the service. 
If you are on a free trial and don&rsquo;t have a license key, use <strong>Password</strong>.</p>

<p><strong>Username:</strong> string [50], optional - using Account and License is preferred</p>

<p>Your AvaTax Admin Console username. Usually an email address.</p>

<p><strong>Password:</strong> string [50], optional - using Account and License is preferred</p>

<p>Your AvaTax Admin Console password.</p>
<h4 id='profile'>Profile</h4>
<p><strong>Name:</strong> string [50], <em>required</em></p>

<p>Reference to a named profile</p>

<p><strong>Client:</strong> string [50], <em>required</em></p>

<p>Client application name and version</p>

<p><strong>Adapter:</strong> string [50], <em>required</em></p>

<p>Name and version of the adapter. 
This is set automatically by the .NET, PHP, and Java adapters.</p>

<p><strong>Machine:</strong> string [50], <em>required</em></p>

<p>The NetBIOS name of the local computer. 
This is set automatically by the .NET, PHP, and Java adapters.</p>

          <h2 id='gettax'>GetTax</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">GetTaxRequest</span> <span class="n">getTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GetTaxRequest</span><span class="p">();</span>

<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CustomerCode</span> <span class="p">=</span> <span class="s">"ABC4335"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2014-01-01"</span><span class="p">);</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DetailLevel</span> <span class="p">=</span> <span class="n">DetailLevel</span><span class="p">.</span><span class="n">Tax</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Commit</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="c1">// getTaxRequest.BusinessIdentificationNo="234243";
// getTaxRequest.CustomerUsageType = "G";
// getTaxRequest.ExemptionNo = "12345";
// getTaxRequest.Discount = 50;
// getTaxRequest.LocationCode = "01";
// getTaxRequest.TaxOverride.TaxOverrideType = TaxOverrideType.TaxDate;
// getTaxRequest.TaxOverride.Reason = "Adjustment for return";
// getTaxRequest.TaxOverride.TaxDate = DateTime.Parse("2013-07-01");
// getTaxRequest.TaxOverride.TaxAmount=0 ;
// getTaxRequest.ServiceMode = ServiceMode.Automatic;
</span><span class="n">getTaxRequest</span><span class="p">.</span><span class="n">PurchaseOrderNo</span> <span class="p">=</span> <span class="s">"PO123456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ReferenceCode</span> <span class="p">=</span> <span class="s">"ref123456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">PosLaneCode</span> <span class="p">=</span> <span class="s">"09"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"USD"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ExchangeRate</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="m">1.0</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ExchangeRateEffDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2013-01-01"</span><span class="p">);</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">SalespersonCode</span> <span class="p">=</span> <span class="s">"Bill Sales"</span><span class="p">;</span>

<span class="n">Address</span> <span class="n">address1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address1</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"45 Fremont Street"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"San Francisco"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"CA"</span><span class="p">;</span>

<span class="n">Address</span> <span class="n">address2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"118 N Clark St"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line2</span> <span class="p">=</span> <span class="s">"Suite 100"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line3</span> <span class="p">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"Chicago"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"IL"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Country</span> <span class="p">=</span> <span class="s">"US"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"60602"</span><span class="p">;</span>

<span class="n">Address</span> <span class="n">address3</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address3</span><span class="p">.</span><span class="n">Latitude</span> <span class="p">=</span> <span class="s">"47.627935"</span><span class="p">;</span>
<span class="n">address3</span><span class="p">.</span><span class="n">Longitude</span> <span class="p">=</span> <span class="s">"-122.51702"</span><span class="p">;</span>

<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address2</span><span class="p">;</span>

<span class="n">Line</span> <span class="n">line1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line1</span><span class="p">.</span><span class="n">No</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"N543"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address2</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Red Size 7 Widget"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"NT"</span><span class="p">;</span>
<span class="c1">// line1.CustomerUsageType = "L";
// line1.ExemptionNo = "12345";
// line1.Discounted = true;
// line1.TaxIncluded = true;
// line1.TaxOverride.TaxOverrideType = TaxOverrideType.TaxDate;
// line1.TaxOverride.Reason = "Adjustment for return";
// line1.TaxOverride.TaxDate = DateTime.Parse("2013-07-01");
// line1.TaxOverride.TaxAmount = 0;
</span><span class="n">line1</span><span class="p">.</span><span class="n">Ref1</span> <span class="p">=</span> <span class="s">"ref123"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Ref2</span> <span class="p">=</span> <span class="s">"ref456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line1</span><span class="p">);</span>

<span class="n">Line</span> <span class="n">line2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line2</span><span class="p">.</span><span class="n">No</span> <span class="p">=</span> <span class="s">"02"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"T345"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">150</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address3</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Size 10 Green Running Shoe"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"PC030147"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line2</span><span class="p">);</span>

<span class="n">Line</span> <span class="n">line3</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line3</span><span class="p">.</span><span class="n">No</span> <span class="p">=</span> <span class="s">"02-FR"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"FREIGHT"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">15</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address3</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Shipping Charge"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"FR"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line3</span><span class="p">);</span>

<span class="n">GetTaxResult</span> <span class="n">getTaxResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">GetTax</span><span class="p">(</span><span class="n">getTaxRequest</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$getTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GetTaxRequest</span><span class="p">();</span>

<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="s2">"SalesInvoice"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s2">"INV001"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocDate</span><span class="p">(</span><span class="s2">"2014-01-01"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCustomerCode</span><span class="p">(</span><span class="s2">"ABC4335"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDetailLevel</span><span class="p">(</span><span class="nx">DetailLevel</span><span class="o">::</span><span class="nv">$Tax</span><span class="p">);</span>
<span class="c1">//$getTaxRequest-&gt;setSalespersonCode("Bill Sales");
//$getTaxRequest-&gt;setCustomerUsageType("G");
//$getTaxRequest-&gt;setDiscount(5.00);
//$getTaxRequest-&gt;setPurchaseOrderNo("PO123456");
//$getTaxRequest-&gt;setExemptionNo("12345");
//$getTaxRequest-&gt;setReferenceCode("ref123456");
//$getTaxRequest-&gt;setLocationCode("01");
//$getTaxRequest-&gt;setCommit(false);
//$getTaxRequest-&gt;setDiscount(5.00);
//$getTaxRequest-&gt;setCurrencyCode("USD");
//$getTaxRequest-&gt;setServiceMode("Automatic");
//$getTaxRequest-&gt;setExchangeRate("1.0");
//$getTaxRequest-&gt;setExchangeRateEffDate("2013-01-01");
//$getTaxRequest-&gt;setPosLaneCode("09");
//$getTaxRequest-&gt;setBusinessIdentificationNo(234243);
//$taxOverride = new TaxOverride();
//$getTaxRequest-&gt;setTaxOverride($taxOverride); 
//$taxOverride-&gt;setTaxOverrideType(TaxOverrideType::$TaxDate);
//$taxOverride-&gt;setTaxAmount(0.00);
//$taxOverride-&gt;setReason("Adjustment for return");
//$taxOverride-&gt;setTaxDate("2013-07-01");
</span>
<span class="nv">$line1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setNo</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"N543"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Red Size 7 Widget"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"NT"</span><span class="p">);</span>
<span class="c1">//$line1-&gt;setDiscounted(true);
//$line-&gt;setTaxIncluded(true);
//$line1-&gt;setRevAcct("");
//$line1-&gt;setRef1("ref123");
//$line1-&gt;setRef2("ref456");
//$line1-&gt;setExemptionNo("12345");
//$line1-&gt;setCustomerUsageType("L");
//$taxOverride = new TaxOverride();
//$line1-&gt;setTaxOverride($taxOverride);
//$taxOverride-&gt;setTaxOverrideType(TaxOverrideType::$TaxDate);
//$taxOverride-&gt;setTaxAmount(0.00);
//$taxOverride-&gt;setReason("Adjustment for return");
//$taxOverride-&gt;setTaxDate("2013-07-01");
</span>
<span class="nv">$line2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setNo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setOriginAddress</span><span class="p">(</span><span class="nv">$OrigAddress</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setDestinationAddress</span><span class="p">(</span><span class="nv">$thirdaddress</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"T345"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Size 10 Green Running Shoe"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">150</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"PC030147"</span><span class="p">);</span>

<span class="nv">$line3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setOriginAddress</span><span class="p">(</span><span class="nv">$OrigAddress</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setDestinationAddress</span><span class="p">(</span><span class="nv">$thirdaddress</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setNo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"FREIGHT"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Shipping Charge"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"FR"</span><span class="p">);</span>

<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setLines</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$line1</span><span class="p">,</span> <span class="nv">$line2</span><span class="p">,</span> <span class="nv">$line3</span><span class="p">));</span>

<span class="nv">$origin</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"45 Fremont Street"</span><span class="p">);</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"San Francisco"</span><span class="p">);</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"CA"</span><span class="p">);</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setOriginAddress</span><span class="p">(</span><span class="nv">$origin</span><span class="p">);</span>

<span class="nv">$destination</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"118 N Clark St"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">"Suite 100"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">"ATTN Accounts Payable"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Chicago"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"IL"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"60602-1304"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDestinationAddress</span><span class="p">(</span><span class="nv">$destination</span><span class="p">);</span>

<span class="nv">$thirdaddress</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"100 Ravine Lane"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">"Suite 100"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Bainbridge Island"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"WA"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"98110"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setAddressCode</span><span class="p">(</span><span class="nv">$thirdaddress</span><span class="p">);</span>

<span class="nv">$getTaxResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">getTax</span><span class="p">(</span><span class="nv">$getTaxRequest</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">GetTaxRequest</span> <span class="n">getTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GetTaxRequest</span><span class="o">();</span>
<span class="n">Format</span> <span class="n">formatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">);</span>

<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setCompanyCode</span><span class="o">(</span><span class="s">"APITrialCompany"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDocType</span><span class="o">(</span><span class="n">DocumentType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDocCode</span><span class="o">(</span><span class="s">"INV001"</span><span class="o">);</span>
<span class="n">Date</span> <span class="n">docDate</span> <span class="o">=</span> <span class="o">(</span><span class="n">Date</span><span class="o">)</span><span class="n">formatter</span><span class="o">.</span><span class="na">parseObject</span><span class="o">(</span><span class="s">"2014-01-01"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDocDate</span><span class="o">(</span><span class="n">docDate</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setCustomerCode</span><span class="o">(</span><span class="s">"ABC4335"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDetailLevel</span><span class="o">(</span><span class="n">DetailLevel</span><span class="o">.</span><span class="na">Tax</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setOriginCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDestinationCode</span><span class="o">(</span><span class="s">"02"</span><span class="o">);</span>

<span class="c1">// getTaxRequest.setSalespersonCode("Bill Sales");</span>
<span class="c1">// getTaxRequest.setCustomerUsageType("G");</span>
<span class="c1">// getTaxRequest.setDiscount(new BigDecimal(50.00));</span>
<span class="c1">// getTaxRequest.setPurchaseOrderNo("PO123456");</span>
<span class="c1">// getTaxRequest.setExemptionNo("12345");</span>
<span class="c1">// getTaxRequest.setReferenceCode("ref123456");</span>
<span class="c1">// getTaxRequest.setLocationCode("01");</span>
<span class="c1">// getTaxRequest.setCommit(true);</span>
<span class="c1">// getTaxRequest.setCurrencyCode("USD");</span>
<span class="c1">// getTaxRequest.setServiceMode(ServiceMode.Automatic);</span>
<span class="c1">// getTaxRequest.setExchangeRate(new BigDecimal(9.00));</span>
<span class="c1">// Date ExchangeRateEffDate = (Date)formatter.parseObject("2013-01-01");</span>
<span class="c1">// getTaxRequest.setExchangeRateEffDate(ExchangeRateEffDate);</span>
<span class="c1">// getTaxRequest.setPosLaneCode("09");</span>
<span class="c1">// getTaxRequest.setBusinessIdentificationNo("234243");</span>
<span class="c1">//  </span>
<span class="c1">// TaxOverride taxOverride = new TaxOverride();</span>
<span class="c1">// taxOverride.setReason("Adjustment for return");</span>
<span class="c1">// taxOverride.setTaxOverrideType(TaxOverrideType.TaxDate);</span>
<span class="c1">// taxOverride.setTaxAmount(new BigDecimal(0.00));</span>
<span class="c1">// Date taxOverrideDate = (Date)formatter.parseObject("2013-07-01");</span>
<span class="c1">// taxOverride.setTaxDate(taxOverrideDate);</span>
<span class="c1">// getTaxRequest.setTaxOverride(taxOverride);</span>

<span class="n">ArrayOfLine</span> <span class="n">lines</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayOfLine</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
<span class="n">Line</span> <span class="n">line</span><span class="o">;</span>

<span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setItemCode</span><span class="o">(</span><span class="s">"N543"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Red Size 7 Widget"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"PC030147"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">1.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">10.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"NT"</span><span class="o">);</span>

<span class="c1">//    line.setCustomerUsageType("L");</span>
<span class="c1">//    line.setExemptionNo("12345");</span>
<span class="c1">//    line.setDiscounted(true);</span>
<span class="c1">//    line.setTaxIncluded(true);</span>
<span class="c1">//    line.setRef1("123");</span>
<span class="c1">//    line.setRef2("456");</span>

<span class="n">lines</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>

<span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="s">"02"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setOriginCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDestinationCode</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setItemCode</span><span class="o">(</span><span class="s">"T345"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Size 10 Green Running Shoe"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">3.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">150.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"PC030147"</span><span class="o">);</span>
<span class="n">lines</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>

<span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line</span><span class="o">.</span><span class="na">setOriginCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDestinationCode</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setItemCode</span><span class="o">(</span><span class="s">"FREIGHT"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Shipping Charge"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">1.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">15.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"FR"</span><span class="o">);</span>
<span class="n">lines</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>

<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setLines</span><span class="o">(</span><span class="n">lines</span><span class="o">);</span>

<span class="n">ArrayOfBaseAddress</span> <span class="n">addresses</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayOfBaseAddress</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>

<span class="n">BaseAddress</span> <span class="n">address1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BaseAddress</span><span class="o">();</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setAddressCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"45 Fremont Street"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setLine3</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"San Francisco"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setRegion</span><span class="o">(</span><span class="s">"CA"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"94105"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
<span class="n">addresses</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">address1</span><span class="o">);</span>

<span class="n">BaseAddress</span> <span class="n">address2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BaseAddress</span><span class="o">();</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setAddressCode</span><span class="o">(</span><span class="s">"02"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setLine3</span><span class="o">(</span><span class="s">"ATTN Accounts Payable"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"118 N Clark St"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">"Suite 100"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Chicago"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setRegion</span><span class="o">(</span><span class="s">"IL"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"60602"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
<span class="n">addresses</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">address2</span><span class="o">);</span>

<span class="n">BaseAddress</span> <span class="n">address3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BaseAddress</span><span class="o">();</span>
<span class="n">address3</span><span class="o">.</span><span class="na">setAddressCode</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">address3</span><span class="o">.</span><span class="na">setLatitude</span><span class="o">(</span><span class="s">"47.627935"</span><span class="o">);</span>
<span class="n">address3</span><span class="o">.</span><span class="na">setLongitude</span><span class="o">(</span><span class="s">"-122.51702"</span><span class="o">);</span>
<span class="n">addresses</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">address3</span><span class="o">);</span>

<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setAddresses</span><span class="o">(</span><span class="n">addresses</span><span class="o">);</span>

<span class="n">GetTaxResult</span> <span class="n">getTaxResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">getTax</span><span class="o">(</span><span class="n">getTaxRequest</span><span class="o">);</span>
</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;GetTaxResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;DocId&gt;</span>48769271<span class="nt">&lt;/DocId&gt;</span>
<span class="nt">&lt;DocType&gt;</span>SalesInvoice<span class="nt">&lt;/DocType&gt;</span>
<span class="nt">&lt;DocCode&gt;</span>INV001<span class="nt">&lt;/DocCode&gt;</span>
<span class="nt">&lt;DocDate&gt;</span>2014-01-01<span class="nt">&lt;/DocDate&gt;</span>
<span class="nt">&lt;DocStatus&gt;</span>Saved<span class="nt">&lt;/DocStatus&gt;</span>
<span class="nt">&lt;Reconciled&gt;</span>false<span class="nt">&lt;/Reconciled&gt;</span>
<span class="nt">&lt;Timestamp&gt;</span>2014-03-25T23:20:34.55<span class="nt">&lt;/Timestamp&gt;</span>
<span class="nt">&lt;TotalAmount&gt;</span>175<span class="nt">&lt;/TotalAmount&gt;</span>
<span class="nt">&lt;TotalDiscount&gt;</span>0<span class="nt">&lt;/TotalDiscount&gt;</span>
<span class="nt">&lt;TotalExemption&gt;</span>10.94<span class="nt">&lt;/TotalExemption&gt;</span>
<span class="nt">&lt;TotalTaxable&gt;</span>164.06<span class="nt">&lt;/TotalTaxable&gt;</span>
<span class="nt">&lt;TotalTax&gt;</span>14.27<span class="nt">&lt;/TotalTax&gt;</span>
<span class="nt">&lt;TotalTaxCalculated&gt;</span>14.27<span class="nt">&lt;/TotalTaxCalculated&gt;</span>
<span class="nt">&lt;HashCode&gt;</span>0<span class="nt">&lt;/HashCode&gt;</span>
<span class="nt">&lt;TaxLines&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>01<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>NT<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>false<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Address<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>10<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.092500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>17<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.062500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>ILLINOIS<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>County<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>031<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.007500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>COOK<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL COUNTY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>14000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.012500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>CHICAGO<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>Special<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>AQOF<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.010000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>REGIONAL TRANSPORT. 
AUTHORITY (RTA)<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL SPECIAL TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>02<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>PC030147<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>true<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Zip5<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.087000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>13.05<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>13.05<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>53<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>150<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.065000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>9.75<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>9.75<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>WASHINGTON<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo/&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>03736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>150<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.022000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>3.3<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>3.3<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>BAINBRIDGE ISLAND<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>1804<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>02-FR<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>FR<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>true<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Zip5<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0.94<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.087000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>1.22<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>1.22<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>53<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>14.06<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.065000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0.91<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0.91<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0.94<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>WASHINGTON<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo/&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>03736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>14.06<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.022000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0.31<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0.31<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0.94<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>BAINBRIDGE ISLAND<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>1804<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;/TaxLines&gt;</span>
<span class="nt">&lt;TaxAddresses&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>45 Fremont St<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>41744153<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2113460<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode/&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>37.791119<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.397366<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>45 Fremont St<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>41744153<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2113460<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode/&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>37.791119<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.397366<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>45 Fremont St<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>41744153<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2113460<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>0607500000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>37.791119<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.397366<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>118 N Clark St Ste 100<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>66547563<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>Chicago<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>60602-1304<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2062953<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>1703114000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>41.884132<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-87.631048<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address/&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>41850334<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>2<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City/&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode/&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2109716<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode/&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>47.627935<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.51702<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType/&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>Not Validated<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>2392<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address/&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>41850334<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>2<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City/&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode/&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2109716<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>5303503736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>47.627935<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.51702<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType/&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>Not Validated<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>2392<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;/TaxAddresses&gt;</span>
<span class="nt">&lt;Locked&gt;</span>false<span class="nt">&lt;/Locked&gt;</span>
<span class="nt">&lt;AdjustmentReason&gt;</span>0<span class="nt">&lt;/AdjustmentReason&gt;</span>
<span class="nt">&lt;AdjustmentDescription/&gt;</span>
<span class="nt">&lt;Version&gt;</span>1<span class="nt">&lt;/Version&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;TaxSummary/&gt;</span>
<span class="nt">&lt;VolatileTaxRates&gt;</span>false<span class="nt">&lt;/VolatileTaxRates&gt;</span>
<span class="nt">&lt;/GetTaxResult&gt;</span>
</pre>

<p>Calculates taxes on a document such as a sales order, sales invoice, purchase order, purchase invoice, or credit memo.</p>
<h3 id='gettax-request'>GetTax Request</h3>
<p>Input for GetTax describing the document on which tax should be calculated.</p>
<h4 id='properties'>Properties</h4>
<p><strong>BusinessIdentificationNo:</strong> string [25], <em>optional, unless the user needs VAT calculated</em></p>

<p>The buyer&rsquo;s VAT id. Using this value will force VAT rules to be considered for the transaction. 
This may be set on the document or the line.</p>

<p><strong>Commit:</strong> bool, <em>optional</em></p>

<p>Default is false. Setting this property to True will prevent any further document state changes except CancelTax which changes the state to Voided.</p>

<p><strong>CompanyCode:</strong> string [25], <em>required</em></p>

<p>The code that identifies the company in the AvaTax account in which the document should be posted. This code is declared during the company setup in the 
<a href="https://admin-development.avalara.net/" target="_blank">AvaTax Admin Console</a>. If no value is passed, the document will be assigned to the default company.</p>

<p><strong>CurrencyCode:</strong> string [3], <em>optional</em></p>

<p>3 character ISO 4217 compliant currency code</p>

<p><strong>CustomerCode:</strong> string [50], <em>required</em></p>

<p>The client application customer reference code. This is required since it is the key to the Exemption Certificate Management Service in the Admin Console.</p>

<p><strong>CustomerUsageType:</strong> string [25], <em>optional</em></p>

<p>The client customer or usage type (or Entity Use Code). </p>

<p>Standard options:</p>

<ul>
<li>A - Federal Government</li>
<li>B - State/Local Govt.</li>
<li>C - Tribal Government</li>
<li>D - Foreign Diplomat</li>
<li>E - Charitable Organization</li>
<li>F - Religious/Education</li>
<li>G - Resale</li>
<li>H - Agricultural Production</li>
<li>I - Industrial Prod/Mfg.</li>
<li>J - Direct Pay Permit</li>
<li>K - Direct Mail</li>
<li>L - Other</li>
<li>N - Local Government</li>
<li>P - Commercial Aquaculture (Canada)</li>
<li>Q - Commercial Fishery (Canada)</li>
<li>R - Non-resident (Canada)</li>
<li>MED1 - US MDET with exempt sales tax</li>
<li>MED2 - US MDET with taxable sales tax</li>
</ul>

<p><strong>DestinationAddress:</strong> Address, <em>required</em></p>

<p>Address in the collection that will be used as destination or &ldquo;Ship To&rdquo; location in the tax calculation.</p>

<p><strong>DetailLevel:</strong> DetailLevel, <em>optional</em></p>

<p>Specifies the level of tax detail returned in the GetTaxResult.</p>

<ul>
<li>Summary: Summarizes document and jurisdiction detail with no line breakout</li>
<li>Document: Only document detail</li>
<li>Line: Document and line detail</li>
<li>Tax: Document, line and jurisdiction detail</li>
<li>Diagnostic: In addition to Tax level details, indicates that the server should return information about how the tax was calculated. Intended for use only while the SDK is in a development environment. </li>
</ul>

<p><strong>Discount:</strong> decimal, <em>optional</em></p>

<p>The total discount to be applied to the line or lines identified by the Lines.Discounted property.</p>

<p><strong>DocCode:</strong> string [50], <em>optional</em></p>

<p>While this is an optional field, serious consideration should be given to using it. If no value is sent, AvaTax assigns a GUID value to keep the document unique. This can make reconciliation a challenge.</p>

<p><strong>DocDate:</strong> date, <em>required</em></p>

<p>The date on the invoice, purchase order, etc. Format YYYY-MM-DD.</p>

<p><strong>DocType:</strong> DocumentType, <em>required</em></p>

<p>The document type specifies the category of the document and affects how the document is treated after a tax calculation.</p>

<ul>
<li>SalesOrder: This is a temporary document type and is not saved in tax history. GetTaxResult will return with a DocStatus of Temporary.</li>
<li>SalesInvoice: The document is a permanent invoice; document and tax calculation results are saved in the tax history. GetTaxResult will return with a DocStatus of Saved.</li>
<li>PurchaseOrder: This is a temporary document type and is not saved in tax history. GetTaxResult will return with a DocStatus of Temporary.</li>
<li>PurchaseInvoice: The document is a permanent invoice; document and tax calculation results are saved in the tax history. GetTaxResult will return with a DocStatus of Saved.</li>
<li>ReturnOrder: This is a temporary document type and is not saved in tax history. GetTaxResult will return with a DocStatus of Temporary.</li>
<li>ReturnInvoice: The document is a permanent sales return invoice; document and tax calculation results are saved in the tax history GetTaxResult will return with a DocStatus of Saved.</li>
</ul>

<p><strong>ExchangeRate:</strong> decimal, <em>optional</em></p>

<p>Exchange Rate indicates the currency exchange rate from the transaction currency (indicated by CurrencyCode) to the company&rsquo;s base currency. 
Note: ExchangeRate need only be set if the transaction currency is different that of the company&rsquo;s base currency. Default is 1.0</p>

<p><strong>ExchangeRateEffDate:</strong> date, <em>optional</em></p>

<p>ExchangeRateEffDate indicates the effective date of the exchange rate and works in tandem with ExchangeRate. 
Default is the DocDate if null.</p>

<p><strong>ExemptionNo:</strong> string [25], <em>optional</em></p>

<p>Exemption or certificate number for the client customer. 
Note: Any value set in this property will cause the document or line to be exempted from tax calculation.</p>

<p><strong>Lines:</strong> ArrayOfLine, <em>required</em></p>

<p>Document line array. There is a limit of 1000 lines per document, but there must be at least one.</p>

<p><strong>LocationCode:</strong> string [50], <em>required if outlet-based reporting is needed, otherwise optional</em></p>

<p>Also referred to as a Store Location, Outlet Id, or Outlet code. 
Location code is a value assigned by some State jurisdictions that identifies a particular store location. 
These States may require tax liabilities to be broken out separately for each store Location</p>

<p><strong>OriginAddress:</strong> Address, <em>optional</em></p>

<p>The Address that will be used as the origin or &ldquo;Shipped From&rdquo; location in the tax calculation. 
If no origin address exists at the document level, the destination address will be used in the calculation. 
Note: if no Origin address is provided at the line level, the Document level origin address will be applied here as well. </p>

<p><strong>PaymentDate:</strong> date, <em>optional</em></p>

<p>PaymentDate indicates the date that a payment was received for the document. It is only applicable for cash-basis accounting and does not need to be set. The default value is 1900-01-01 which indicates no payment received.</p>

<p><strong>PurchaseOrderNo:</strong> string [50], <em>optional</em></p>

<p>Purchase Order Number used to create the current document</p>

<p><strong>ReferenceCode:</strong> string [50], <em>optional</em></p>

<p>Essentially a data field to record the original DocCode of an document if the current document is a ReturnInvoice Document Type</p>

<p><strong>SalespersonCode:</strong> string [25], <em>optional</em></p>

<p>The client application&rsquo;s salesperson reference code. May also be used to identify a cash register.</p>

<p><strong>ServiceMode:</strong> enum as string [see below], <em>optional</em></p>

<p>AvaTaxLocal function - provides the ability to control whether a tax is calculated locally or AvaTax web service. The default is Automatic which calculates locally unless a remote connection is necessary for &ldquo;send sales&rdquo; not configured at the local server level.</p>

<ul>
<li>Automatic</li>
<li>Local</li>
<li>Remote</li>
</ul>

<p><strong>TaxOverride:</strong> TaxOverride, <em>optional</em></p>

<p>TaxOverride for the document - can be used to manually override components of the tax calculation. See TaxOverride for more information.</p>
<h3 id='line'>Line</h3>
<p>Input property of the GetTaxRequest describing item lines.</p>
<h4 id='properties'>Properties</h4>
<p><strong>No:</strong> string [50], <em>required</em></p>

<p>Uniquely identifies the line item row.</p>

<p><strong>OriginCode</strong> string [int MAX_VALUE], <em>at least one of OriginCode or DestinationCode must be declared either here or at document-level</em></p>

<p>The line-level code that refers to the origin address. Line-level address codes will take precedence over document-level address codes if both are present.</p>

<p><strong>DestinationCode</strong> string [int MAX_VALUE], <em>at least one of OriginCode or DestinationCode must be declared either here or at document-level</em></p>

<p>The line-level code that refers to the destination address. Line-level address codes will take precedence over document-level address codes if both are present.</p>

<p><strong>ItemCode</strong> string [50], <em>optional</em></p>

<p>Your item identifier, SKU, or UPC.</p>

<p><strong>TaxCode</strong> string [25], <em>optional</em></p>

<p>AvaTax system tax code or custom tax code</p>

<p><strong>CustomerUsageType</strong> string [25], <em>optional</em></p>

<p>Same as document-level CustomerUsageType. See code options above in the GetTaxRequest elements.</p>

<p><strong>ExemptionNo:</strong> string [25], <em>optional</em></p>

<p>Exemption or certificate number for the client customer. 
Note: Any value set in this property will cause the document or line to be exempted from tax calculation.</p>

<p><strong>Description</strong> string [255], <em>optional, unless you are bound by Streamlined Sales Tax requirements</em></p>

<p>Item description</p>

<p><strong>Qty</strong> decimal, <em>optional</em></p>

<p>Item quantity. The tax engine does NOT use this as a multiplier with price to get the Amount.</p>

<p><strong>Amount</strong> decimal, <em>required</em></p>

<p>Total amount of item line (extended amount, qty * unit price)</p>

<p><strong>Discounted</strong> boolean, <em>optional</em></p>

<p>True if the document level discount is applied to this line item</p>

<p><strong>TaxIncluded</strong> boolean, <em>optional</em></p>

<p>True if the tax is already included.</p>

<p><strong>Ref1</strong> string [250], <em>optional</em></p>

<p>Text reference. Use as needed.</p>

<p><strong>Ref2</strong> string [250], <em>optional</em></p>

<p>Text reference. Use as needed.</p>

<p><strong>TaxOverride</strong> TaxOverride, <em>optional</em></p>

<p>Same as document-level TaxOverride. Use this if you only need to override individual lines.</p>
<h3 id='address'>Address</h3>
<p>Input property of GetTaxRequest representing addresses needed for tax calculations.</p>
<h4 id='properties'>Properties</h4>
<p><strong>AddressCode:</strong> string [int MAX_VALUE], <em>required</em></p>

<p>Reference code uniquely identifying this address instance.</p>

<p><strong>Line1:</strong> string [50], <em>required</em></p>

<p>Address line 1, required if Latitude and Longitude are not provided.</p>

<p><strong>Line2:</strong> string [50], <em>optional</em></p>

<p>Address line 2</p>

<p><strong>Line3:</strong> string [50], <em>optional</em></p>

<p>Address line 3</p>

<p><strong>City:</strong> string [50], <em>optional</em></p>

<p>City name, required unless PostalCode is specified and/or Latitude and Longitude are provided.</p>

<p><strong>Region:</strong> string [3], <em>optional</em></p>

<p>State, province, or region name. Required unless City is specified and/or Latitude and Longitude are provided.</p>

<p><strong>Country:</strong> string [2], <em>optional</em></p>

<p>Country code. If not provided, will default to &ldquo;US&rdquo;.</p>

<p><strong>PostalCode:</strong> string [11], <em>optional unless City and Region are not specified</em></p>

<p>Postal or ZIP code, Required unless City and Region are specified, and/or Latitude and Longitude are provided.</p>

<p><strong>Latitude:</strong> decimal, <em>optional</em></p>

<p>Geographic latitude. If Latitude is defined, it is expected that the longitude field will also be provided. Failure to do so will result in operation error.</p>

<p><strong>Longitude:</strong> decimal, <em>optional</em></p>

<p>Geographic longitude. If Longitude is defined, it is expected that the latitude field will also be provided. Fail to do so will result in operation error.</p>

<p><strong>TaxRegionId:</strong> int, <em>optional</em></p>

<p>AvaTax tax region identifier. If a non-zero value is entered into TaxRegionId, other fields will be ignored.</p>
<h3 id='gettax-result'>GetTax Result</h3>
<p>Document-level tax calculation information.</p>
<h4 id='properties'>Properties</h4>
<p><strong>DocCode:</strong> string [50]</p>

<p>The document code, if not supplied in the request the returned value is a GUID.</p>

<p><strong>DocDate:</strong> date</p>

<p>Date of invoice, sales order, purchase order, etc.</p>

<p><strong>DocStatus:</strong> enum as string [see below]</p>

<p>The document&rsquo;s status after the tax calculation. One of:</p>

<ul>
<li>Temporary: GetTaxRequest, DocType = SalesOrder</li>
<li>Saved: GetTaxRequest, DocType = SalesInvoice</li>
<li>Posted: PostTaxRequest, Commit = false</li>
<li>Committed: PostTaxRequest, Commit = true or CommitTaxRequest on document in Posted state</li>
<li>Cancelled: CancelTaxRequest, CancelCode = DocVoided</li>
<li>Adjusted: AdjustTaxRequest</li>
</ul>

<p><strong>DocType:</strong> DocumentType</p>

<p>The DocumentType used in the GetTaxRequest</p>

<p><strong>Locked:</strong> boolean</p>

<p>Flag indicating if a Document has been locked by Avalara&rsquo;s Managed Returns Service process. Locked documents can not be modified and can not be cancelled because they have been reported on Tax Return.</p>

<p><strong>TaxDate:</strong> DateTime</p>

<p>Tax Date is the date used to calculate tax on the Document.</p>

<p><strong>TaxLines:</strong> TaxLine[]</p>

<p>Tax broken down by individual TaxLine.</p>

<p><strong>TaxSummary:</strong> TaxDetail[]</p>

<p>Summary of the jurisdiction details for all item lines (returned for detail levels Summary and Line).</p>

<p><strong>Timestamp:</strong> DateTime</p>

<p>Server timestamp of the request.</p>

<p><strong>TotalAmount:</strong> decimal</p>

<p>Sum of all line Amount values.</p>

<p><strong>TotalDiscount:</strong> decimal</p>

<p>Sum of all TaxLine discount amounts.</p>

<p><strong>TotalTax:</strong> decimal</p>

<p>Sum of all TaxLine tax amounts.</p>

<p><strong>TotalTaxable:</strong> decimal</p>

<p>Total taxable amount.</p>

<p><strong>TotalTaxCalculated:</strong> decimal</p>

<p>TotalTaxCalculated indicates the total tax calculated by AvaTax. This is usually the same as the TotalTax, except when a tax override amount is specified. This is for informational purposes. The TotalTax will still be used for reporting.</p>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>A unique Transaction ID identifying a specific request/response set.</p>

<p><strong>Version:</strong> int</p>

<p>Current version of the document.</p>

<p><strong>VolatileTaxRated:</strong> boolean</p>

<p>Deprecated.</p>

<p><strong>TaxAddresses:</strong> TaxAddress[]</p>

<p>Array of resolved addresses used in the tax calculation.</p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request.</p>
<h3 id='taxline'>TaxLine</h3>
<p>Taxes for a specific document Line.</p>
<h4 id='properties'>Properties</h4>
<p><strong>AccountingMethod:</strong> AccountingMethod</p>

<p>This is the accounting applied to the line. Since only Accrual accounting is currently supported, it is always Accrual.</p>

<p><strong>BoundaryLevel:</strong> BoundaryLevel</p>

<p>The level of jurisdiction boundary precision used for the tax calculation.</p>

<p><strong>Discount:</strong> decimal</p>

<p>Discount amount applied to this line</p>

<p><strong>ExemptCertId:</strong> int</p>

<p>Applied ExemptionCertificateId for the Line.</p>

<p><strong>No:</strong> string [50]</p>

<p>Line Number</p>

<p><strong>Tax:</strong> decimal</p>

<p>The tax amount, either the calculated amount or an override amount</p>

<p><strong>Taxability:</strong> boolean</p>

<p>Is the item taxable?</p>

<p><strong>TaxCalculated:</strong> decimal</p>

<p>TaxCalculated indicates the tax calculated by AvaTax. This will normally be the same as the Tax property unless it has been overridden by a TaxAmount.</p>

<p><strong>TaxCode:</strong> string [25]</p>

<p>System Tax Code</p>

<p><strong>TaxDetails:</strong> TaxDetail[]</p>

<p>Tax by jurisdiction. See TaxDetail properties below.</p>

<p><strong>TaxIncluded:</strong> boolean</p>

<p>Indicates the value of TaxIncluded sent on the line of the GetTaxRequest.</p>
<h3 id='taxdetail'>TaxDetail</h3>
<p>Tax details by jurisdiction. Information returned is dependent on the DetailLevel passed in the request.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Country:</strong> string [2]</p>

<p>2-character ISO country code</p>

<p><strong>Exemption:</strong> decimal</p>

<p>The portion of the detail that is exempt from taxes.</p>

<p><strong>JurisCode:</strong> string [10]</p>

<p>Jurisdiction Code for the taxing jurisdiction</p>

<p><strong>JurisName:</strong> string [200]</p>

<p>Gets the jurisdiction name.</p>

<p><strong>JurisType:</strong> JurisdictionType</p>

<p>Jurisdiction Type</p>

<p><strong>NonTaxable:</strong> decimal</p>

<p>The portion of the detail that is not subject to taxes.</p>

<p><strong>Rate:</strong> decimal</p>

<p>The tax rate for the jurisdiction.</p>

<p><strong>RateType:</strong> string [1]</p>

<p>RateType indicates the tax rate type. These currently include: </p>

<ul>
<li>F = Food (US)</li>
<li>G = General (US)</li>
<li>S = Standard (VAT)</li>
<li>R = Reduced (VAT)</li>
<li>Q = Super Reduced (VAT)</li>
<li>A = Reduced Rate 1 (VAT)</li>
<li>B = Reduced Rate 2 (VAT)</li>
<li>Z = Zero Rate</li>
</ul>

<p><strong>Region:</strong> string [3]</p>

<p>State or province code</p>

<p><strong>StateAssignedNo:</strong> string [50]</p>

<p>StateAssignedNo is the identifier given to the jurisdiction by the state. Not all states have these.</p>

<p><strong>Tax:</strong> decimal</p>

<p>The tax amount, either the calculated amount or an override amount</p>

<p><strong>Taxable:</strong> decimal</p>

<p>The amount of the sale that is determined to be taxable.</p>

<p><strong>TaxAuthorityType:</strong> int</p>

<p>Internal tax authority type identifier used by our returns engine.</p>

<p><strong>TaxCalculated:</strong> decimal</p>

<p>TaxCalculated indicates the tax calculated by AvaTax. It will usually be the same as the Tax property, unless it has been overridden by a TaxAmount.</p>

<p><strong>TaxName:</strong> string [75]</p>

<p>It further defines the tax and jurisdiction.</p>

<p><strong>TaxType:</strong> TaxType</p>

<p>Tax Type - Sales or Seller&rsquo;s Use</p>
<h3 id='taxaddress'>TaxAddress</h3>
<p>TaxAddress represents canonical addresses used in tax calculation.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Address:</strong> string [50]</p>

<p>Canonical street address</p>

<p><strong>AddressCode:</strong> string</p>

<p>Reference code uniquely identifying this address instance. AddressCode will always correspond to an address code supplied to in the address collection provided in the request.</p>

<p><strong>City:</strong> string [50]</p>

<p>City name</p>

<p><strong>Region:</strong> string [3]</p>

<p>State or region name</p>

<p><strong>Country:</strong> string</p>

<p>Country code, as ISO 3166-1 (Alpha-2) country code (e.g. US)</p>

<p><strong>PostalCode:</strong> string</p>

<p>Postal code</p>

<p><strong>Latitude:</strong> decimal</p>

<p>Geographic latitude. Latitude is only defined if input address was a geographic point.</p>

<p><strong>Longitude:</strong> decimal</p>

<p>Geographic longitude. Longitude is only defined if input address was a geographic point.</p>

<p><strong>TaxRegionId:</strong> string</p>

<p>AvaTax tax region identifier</p>

<p><strong>JurisCode:</strong> string</p>

<p>Tax jurisdiction code</p>

          <h2 id='posttax'>PostTax</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">PostTaxRequest</span> <span class="n">postTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PostTaxRequest</span><span class="p">();</span>

<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">Commit</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">DocDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2014-01-01"</span><span class="p">);</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">TotalTax</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="m">14.27</span><span class="p">;</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">TotalAmount</span> <span class="p">=</span> <span class="m">175</span><span class="p">;</span>
<span class="n">postTaxRequest</span><span class="p">.</span><span class="n">NewDocCode</span> <span class="p">=</span> <span class="s">"INV001-1"</span><span class="p">;</span>

<span class="n">PostTaxResult</span> <span class="n">postTaxResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">PostTax</span><span class="p">(</span><span class="n">postTaxRequest</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$postTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PostTaxRequest</span><span class="p">();</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="s2">"SalesInvoice"</span><span class="p">);</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s2">"INV001"</span><span class="p">);</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocDate</span><span class="p">(</span><span class="s2">"2014-01-01"</span><span class="p">);</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setTotalAmount</span><span class="p">(</span><span class="mf">175.00</span><span class="p">);</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setTotalTax</span><span class="p">(</span><span class="mf">14.27</span><span class="p">);</span>
<span class="nv">$postTaxRequest</span><span class="o">-&gt;</span><span class="na">setCommit</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

<span class="nv">$postTaxResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">postTax</span><span class="p">(</span><span class="nv">$postTaxRequest</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">PostTaxRequest</span> <span class="n">postTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PostTaxRequest</span><span class="o">();</span>
<span class="n">Format</span> <span class="n">formatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">);</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setDocCode</span><span class="o">(</span><span class="s">"INV001"</span><span class="o">);</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setCompanyCode</span><span class="o">(</span><span class="s">"APITrialCompany"</span><span class="o">);</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setDocType</span><span class="o">(</span><span class="n">DocumentType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">);</span>
<span class="n">Date</span> <span class="n">docDate</span> <span class="o">=</span> <span class="o">(</span><span class="n">Date</span><span class="o">)</span><span class="n">formatter</span><span class="o">.</span><span class="na">parseObject</span><span class="o">(</span><span class="s">"2014-01-01"</span><span class="o">);</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setDocDate</span><span class="o">(</span><span class="n">docDate</span><span class="o">);</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setTotalAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"175.00"</span><span class="o">));</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setTotalTax</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"14.27"</span><span class="o">));</span>
<span class="n">postTaxRequest</span><span class="o">.</span><span class="na">setCommit</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

<span class="n">PostTaxResult</span> <span class="n">postTaxResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">postTax</span><span class="o">(</span><span class="n">postTaxRequest</span><span class="o">);</span>
</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;PostTaxResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;DocId&gt;</span>48769272<span class="nt">&lt;/DocId&gt;</span>
<span class="nt">&lt;/PostTaxResult&gt;</span>
</pre>

<p>The PostTax method can be used to modify the state of a document saved to the AvaTax database via SalesInvoice, ReturnInvoice or PurchaseInvoice methods.</p>

<p><strong>Note:</strong> PostTax can be used to Commit a document or even change the Document Code (invoice number).</p>

<p>See <a href="/api-docs/designing-your-integration/posttax-and-committax">Committing Documents</a> for more details.</p>
<h3 id='posttax-request'>PostTax Request</h3>
<p>Input for PostTax for posting or committing a previously saved document.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Commit:</strong> bool, <em>optional</em></p>

<p>If set to True, AvaTax will Post and Commit the document in one call.</p>

<p><strong>CompanyCode:</strong> string [25], <em>required</em></p>

<p>The client application company reference code.</p>

<p><strong>DocCode:</strong> string [50], <em>required</em></p>

<p>The internal reference code (invoice number) used by the client application.</p>

<p><strong>DocDate:</strong> date, <em>required</em></p>

<p>The Document Date, i.e. the date on the invoice, purchase order, etc.</p>

<p><strong>DocType:</strong> DocumentType, <em>required</em></p>

<p>The original document&rsquo;s type, such as Sales Invoice or Purchase Invoice</p>

<p><strong>NewDocCode:</strong> string [50], <em>optional</em></p>

<p>New Document Code for the document if desired.</p>

<p><strong>TotalAmount:</strong> decimal, <em>required</em></p>

<p>The total amount (not including tax) for the document.</p>

<p><strong>TotalTax:</strong> decimal, <em>required</em></p>

<p>The total tax for the document.</p>
<h3 id='posttax-result'>PostTax Result</h3>
<p>Result data returned from PostTax.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request. Properties defined in <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

          <h2 id='committax'>CommitTax</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">CommitTaxRequest</span> <span class="n">commitTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CommitTaxRequest</span><span class="p">();</span>

<span class="n">commitTaxRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">commitTaxRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="n">commitTaxRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">commitTaxRequest</span><span class="p">.</span><span class="n">NewDocCode</span> <span class="p">=</span> <span class="s">"INV001-1"</span><span class="p">;</span>

<span class="n">CommitTaxResult</span> <span class="n">commitTaxResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">CommitTax</span><span class="p">(</span><span class="n">commitTaxRequest</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CommitTaxRequest</span><span class="p">();</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s1">'INV001'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="s1">'SalesInvoice'</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$request</span><span class="o">-&gt;</span><span class="na">setNewDocCode</span><span class="p">(</span><span class="s1">'INV001-1'</span><span class="p">);</span>

<span class="nv">$commitTaxResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">commitTax</span><span class="p">(</span><span class="nv">$request</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">CommitTaxRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CommitTaxRequest</span><span class="o">();</span>

<span class="n">request</span><span class="o">.</span><span class="na">setDocCode</span><span class="o">(</span><span class="s">"INV001"</span><span class="o">);</span>
<span class="n">request</span><span class="o">.</span><span class="na">setDocType</span><span class="o">(</span><span class="n">DocumentType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">);</span>
<span class="n">request</span><span class="o">.</span><span class="na">setCompanyCode</span><span class="o">(</span><span class="s">"APITrialCompany"</span><span class="o">);</span>
<span class="n">commitTaxRequest</span><span class="o">.</span><span class="na">setNewDocCode</span><span class="o">(</span><span class="s">"INV001-1"</span><span class="o">);</span>

<span class="n">CommitTaxResult</span> <span class="n">commitTaxResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">commitTax</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;CommitTaxResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;DocId&gt;</span>48769272<span class="nt">&lt;/DocId&gt;</span>
<span class="nt">&lt;/CommitTaxResult&gt;</span>
</pre>

<p>CommitTax is only necessary if you need to temporarily store your documents in the Avalara database in a Posted state and later commit the documents. This will require successive calls to GetTax, PostTax and CommitTax. See <a href="/api-docs/designing-your-integration/posttax-and-committax">Committing Documents</a> for more details.</p>
<h3 id='committax-request'>CommitTax Request</h3>
<p>Input for CommitTax indicating the document that should be committed. You may use just the DocId to locate and commit the document (5.8 adapter and earlier, or 14.2 and later), or you may use all three of CompanyCode, DocType and DocCode.</p>
<h4 id='properties'>Properties</h4>
<p><strong>CompanyCode:</strong> string [25], <em>required</em>*</p>

<p>Client application company reference code.  </p>

<p>*Not required if the document is identified by DocId.</p>

<p><strong>DocType:</strong> enum as string [see below], <em>required</em>*</p>

<p>Value describing what type of tax document is being committed. One of:</p>

<ul>
<li>SalesInvoice</li>
<li>ReturnInvoice</li>
<li>PurchaseInvoice</li>
</ul>

<p><em>Not required if the document is identified by DocId.</em></p>

<p><strong>DocCode:</strong> string [50], <em>required</em></p>

<p>Client application identifier describing this tax transaction (i.e. invoice number, sales order number, etc.).  </p>

<p><em>Not required if the document is identified by DocId.</em></p>

<p><strong>DocId:</strong> bigint as string, <em>optional</em></p>

<p>Avatax-assigned unique Document Id, can be used in place of CompanyCode, DocType and DocCode.</p>
<h3 id='committax-result'>CommitTax Result</h3>
<p>Output for CommitTax indicating the success of the operation, or any errors encountered.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request.</p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

          <h2 id='canceltax'>CancelTax</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">CancelTaxRequest</span> <span class="n">cancelTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CancelTaxRequest</span><span class="p">();</span>

<span class="n">cancelTaxRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">cancelTaxRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="n">cancelTaxRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">cancelTaxRequest</span><span class="p">.</span><span class="n">CancelCode</span> <span class="p">=</span> <span class="n">CancelCode</span><span class="p">.</span><span class="n">DocVoided</span><span class="p">;</span>

<span class="n">CancelTaxResult</span> <span class="n">cancelTaxResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">CancelTax</span><span class="p">(</span><span class="n">cancelTaxRequest</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$cancelTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CancelTaxRequest</span><span class="p">();</span>
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s1">'INV001'</span><span class="p">);</span>
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="s1">'SalesInvoice'</span><span class="p">);</span>
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$cancelTaxRequest</span><span class="o">-&gt;</span><span class="na">setCancelCode</span><span class="p">(</span><span class="s1">'DocVoided'</span><span class="p">);</span>

<span class="nv">$cancelTaxResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">cancelTax</span><span class="p">(</span><span class="nv">$cancelTaxRequest</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">CancelTaxRequest</span> <span class="n">cancelTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CancelTaxRequest</span><span class="o">();</span>

<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">setDocCode</span><span class="o">(</span><span class="s">"INV001"</span><span class="o">);</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">setCompanyCode</span><span class="o">(</span><span class="s">"APITrialCompany"</span><span class="o">);</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">setDocType</span><span class="o">(</span><span class="n">DocumentType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">);</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">setCancelCode</span><span class="o">(</span><span class="n">CancelCode</span><span class="o">.</span><span class="na">DocVoided</span><span class="o">);</span>
<span class="n">cancelTaxRequest</span><span class="o">.</span><span class="na">setDocId</span><span class="o">(</span><span class="s">"INV001-1"</span><span class="o">);</span>

<span class="n">CancelTaxResult</span> <span class="n">cancelTaxResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">cancelTax</span><span class="o">(</span><span class="n">cancelTaxRequest</span><span class="o">);</span>
</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;CancelTaxResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;DocId&gt;</span>48769272<span class="nt">&lt;/DocId&gt;</span>
<span class="nt">&lt;/CancelTaxResult&gt;</span>
</pre>

<p>Voids or deletes and existing transaction record from the AvaTax system.</p>
<h3 id='canceltax-request'>CancelTax Request</h3>
<p>Input for CancelTax indicating the document that should be cancelled and the reason for the operation.</p>
<h4 id='properties'>Properties</h4>
<p><strong>CompanyCode:</strong> string [25], <em>required</em></p>

<p>Client application company reference code.  Not required if the document is identified by DocId.</p>

<p><strong>DocType:</strong> enum as string [see below], <em>required</em></p>

<p>Value describing what type of tax document is being cancelled. One of:</p>

<ul>
<li>SalesInvoice</li>
<li>ReturnInvoice</li>
<li>PurchaseInvoice</li>
</ul>

<p>Not required if the document is identified by DocId.</p>

<p><strong>DocCode:</strong> string [50], <em>required</em></p>

<p>Client application identifier describing this tax transaction (i.e. invoice number, sales order number, etc.).  Not required if the document is identified by DocId.</p>

<p><strong>CancelCode:</strong> enum as string [see below], <em>required</em></p>

<p>The reason for cancelling the tax record. One of:</p>

<ul>
<li>Unspecified</li>
<li>PostFailed</li>
<li>DocDeleted</li>
<li>DocVoided</li>
<li>AdjustmentCancelled</li>
</ul>

<p>For more information, see the <a title="CancelTax" href="/api-docs/api-reference/canceltax" target="_blank">CancelTax article</a>.</p>

<p><strong>DocId:</strong> bigint as string, <em>optional</em></p>

<p>Avatax-assigned unique Document Id, can be used in place of DocCode, DocType, and CompanyCode</p>
<h3 id='canceltax-result'>CancelTax Result</h3>
<p>Output for CancelTax indicating the success of the cancellation, or any errors encountered.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request. Properties defined in <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

<p><strong>DocId:</strong> bigint as string</p>

<p>The unique numeric identifier (Document ID) assigned to the tax document in question by the AvaTax Service.</p>

          <h2 id='adjusttax'>AdjustTax</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">AdjustTaxRequest</span> <span class="n">adjustTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AdjustTaxRequest</span><span class="p">();</span>

<span class="n">adjustTaxRequest</span><span class="p">.</span><span class="n">AdjustmentReason</span> <span class="p">=</span> <span class="m">4</span><span class="p">;</span>
<span class="n">adjustTaxRequest</span><span class="p">.</span><span class="n">AdjustmentDescription</span> <span class="p">=</span> <span class="s">"Transaction Adjusted for Testing"</span><span class="p">;</span>

<span class="n">GetTaxRequest</span> <span class="n">getTaxRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GetTaxRequest</span><span class="p">();</span>

<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CustomerCode</span> <span class="p">=</span> <span class="s">"ABC4335"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2014-01-01"</span><span class="p">);</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DetailLevel</span> <span class="p">=</span> <span class="n">DetailLevel</span><span class="p">.</span><span class="n">Tax</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Commit</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="c1">// getTaxRequest.BusinessIdentificationNo="234243";
// getTaxRequest.CustomerUsageType = "G";
// getTaxRequest.ExemptionNo = "12345";
// getTaxRequest.Discount = 50;
// getTaxRequest.LocationCode = "01";
// getTaxRequest.TaxOverride.TaxOverrideType = TaxOverrideType.TaxDate;
// getTaxRequest.TaxOverride.Reason = "Adjustment for return";
// getTaxRequest.TaxOverride.TaxDate = DateTime.Parse("2013-07-01");
// getTaxRequest.TaxOverride.TaxAmount=0 ;
// getTaxRequest.ServiceMode = ServiceMode.Automatic;
</span><span class="n">getTaxRequest</span><span class="p">.</span><span class="n">PurchaseOrderNo</span> <span class="p">=</span> <span class="s">"PO123456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ReferenceCode</span> <span class="p">=</span> <span class="s">"ref123456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">PosLaneCode</span> <span class="p">=</span> <span class="s">"09"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">CurrencyCode</span> <span class="p">=</span> <span class="s">"USD"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ExchangeRate</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="m">1.0</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">ExchangeRateEffDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="s">"2013-01-01"</span><span class="p">);</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">SalespersonCode</span> <span class="p">=</span> <span class="s">"Bill Sales"</span><span class="p">;</span>

<span class="n">Address</span> <span class="n">address1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address1</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"45 Fremont Street"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"San Francisco"</span><span class="p">;</span>
<span class="n">address1</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"CA"</span><span class="p">;</span>

<span class="n">Address</span> <span class="n">address2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"118 N Clark St"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line2</span> <span class="p">=</span> <span class="s">"Suite 100"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Line3</span> <span class="p">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"Chicago"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"IL"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">Country</span> <span class="p">=</span> <span class="s">"US"</span><span class="p">;</span>
<span class="n">address2</span><span class="p">.</span><span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"60602"</span><span class="p">;</span>

<span class="n">Address</span> <span class="n">address3</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span>
<span class="n">address3</span><span class="p">.</span><span class="n">Latitude</span> <span class="p">=</span> <span class="s">"47.627935"</span><span class="p">;</span>
<span class="n">address3</span><span class="p">.</span><span class="n">Longitude</span> <span class="p">=</span> <span class="s">"-122.51702"</span><span class="p">;</span>

<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address2</span><span class="p">;</span>

<span class="n">Line</span> <span class="n">line1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line1</span><span class="p">.</span><span class="n">No</span> <span class="p">=</span> <span class="s">"01"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"N543"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address2</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Red Size 7 Widget"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"NT"</span><span class="p">;</span>
<span class="c1">// line1.CustomerUsageType = "L";
// line1.ExemptionNo = "12345";
// line1.Discounted = true;
// line1.TaxIncluded = true;
// line1.TaxOverride.TaxOverrideType = TaxOverrideType.TaxDate;
// line1.TaxOverride.Reason = "Adjustment for return";
// line1.TaxOverride.TaxDate = DateTime.Parse("2013-07-01");
// line1.TaxOverride.TaxAmount = 0;
</span><span class="n">line1</span><span class="p">.</span><span class="n">Ref1</span> <span class="p">=</span> <span class="s">"ref123"</span><span class="p">;</span>
<span class="n">line1</span><span class="p">.</span><span class="n">Ref2</span> <span class="p">=</span> <span class="s">"ref456"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line1</span><span class="p">);</span>

<span class="n">Line</span> <span class="n">line2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line2</span><span class="p">.</span><span class="n">No</span> <span class="p">=</span> <span class="s">"02"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"T345"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">150</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address3</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Size 10 Green Running Shoe"</span><span class="p">;</span>
<span class="n">line2</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"PC030147"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line2</span><span class="p">);</span>

<span class="n">Line</span> <span class="n">line3</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Line</span><span class="p">();</span>
<span class="n">line3</span><span class="p">.</span><span class="n">No</span> <span class="p">=</span> <span class="s">"02-FR"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">ItemCode</span> <span class="p">=</span> <span class="s">"FREIGHT"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Qty</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Amount</span> <span class="p">=</span> <span class="m">15</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">OriginAddress</span> <span class="p">=</span> <span class="n">address1</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">DestinationAddress</span> <span class="p">=</span> <span class="n">address3</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">Description</span> <span class="p">=</span> <span class="s">"Shipping Charge"</span><span class="p">;</span>
<span class="n">line3</span><span class="p">.</span><span class="n">TaxCode</span> <span class="p">=</span> <span class="s">"FR"</span><span class="p">;</span>
<span class="n">getTaxRequest</span><span class="p">.</span><span class="n">Lines</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">line3</span><span class="p">);</span>

<span class="n">adjustTaxRequest</span><span class="p">.</span><span class="n">GetTaxRequest</span> <span class="p">=</span> <span class="n">getTaxRequest</span><span class="p">;</span>
<span class="n">AdjustTaxResult</span> <span class="n">adjustTaxResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">AdjustTax</span><span class="p">(</span><span class="n">adjustTaxRequest</span><span class="p">);</span>

</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$adjustTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdjustTaxRequest</span><span class="p">();</span>
<span class="nv">$adjustTaxRequest</span><span class="o">-&gt;</span><span class="na">setAdjustmentReason</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="nv">$adjustTaxRequest</span><span class="o">-&gt;</span><span class="na">setAdjustmentDescription</span><span class="p">(</span><span class="s2">"Transaction Adjusted for Testing"</span><span class="p">);</span>

<span class="nv">$getTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GetTaxRequest</span><span class="p">();</span>

<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="s2">"SalesInvoice"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s2">"INV001"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDocDate</span><span class="p">(</span><span class="s2">"2014-01-01"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setCustomerCode</span><span class="p">(</span><span class="s2">"ABC4335"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDetailLevel</span><span class="p">(</span><span class="nx">DetailLevel</span><span class="o">::</span><span class="nv">$Tax</span><span class="p">);</span>
<span class="c1">//$getTaxRequest-&gt;setSalespersonCode("Bill Sales");
//$getTaxRequest-&gt;setCustomerUsageType("G");
//$getTaxRequest-&gt;setDiscount(5.00);
//$getTaxRequest-&gt;setPurchaseOrderNo("PO123456");
//$getTaxRequest-&gt;setExemptionNo("12345");
//$getTaxRequest-&gt;setReferenceCode("ref123456");
//$getTaxRequest-&gt;setLocationCode("01");
//$getTaxRequest-&gt;setCommit(false);
//$getTaxRequest-&gt;setDiscount(5.00);
//$getTaxRequest-&gt;setCurrencyCode("USD");
//$getTaxRequest-&gt;setServiceMode("Automatic");
//$getTaxRequest-&gt;setExchangeRate("1.0");
//$getTaxRequest-&gt;setExchangeRateEffDate("2013-01-01");
//$getTaxRequest-&gt;setPosLaneCode("09");
//$getTaxRequest-&gt;setBusinessIdentificationNo(234243);
//$taxOverride = new TaxOverride();
//$getTaxRequest-&gt;setTaxOverride($taxOverride); 
//$taxOverride-&gt;setTaxOverrideType(TaxOverrideType::$TaxDate);
//$taxOverride-&gt;setTaxAmount(0.00);
//$taxOverride-&gt;setReason("Adjustment for return");
//$taxOverride-&gt;setTaxDate("2013-07-01");
</span>
<span class="nv">$line1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setNo</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"N543"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Red Size 7 Widget"</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="nv">$line1</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"NT"</span><span class="p">);</span>
<span class="c1">//$line1-&gt;setDiscounted(true);
//$line-&gt;setTaxIncluded(true);
//$line1-&gt;setRevAcct("");
//$line1-&gt;setRef1("ref123");
//$line1-&gt;setRef2("ref456");
//$line1-&gt;setExemptionNo("12345");
//$line1-&gt;setCustomerUsageType("L");
//$taxOverride = new TaxOverride();
//$line1-&gt;setTaxOverride($taxOverride);
//$taxOverride-&gt;setTaxOverrideType(TaxOverrideType::$TaxDate);
//$taxOverride-&gt;setTaxAmount(0.00);
//$taxOverride-&gt;setReason("Adjustment for return");
//$taxOverride-&gt;setTaxDate("2013-07-01");
</span>
<span class="nv">$line2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setNo</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setOriginAddress</span><span class="p">(</span><span class="nv">$OrigAddress</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setDestinationAddress</span><span class="p">(</span><span class="nv">$thirdaddress</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"T345"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Size 10 Green Running Shoe"</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">150</span><span class="p">);</span>
<span class="nv">$line2</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"PC030147"</span><span class="p">);</span>

<span class="nv">$line3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Line</span><span class="p">();</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setOriginAddress</span><span class="p">(</span><span class="nv">$OrigAddress</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setDestinationAddress</span><span class="p">(</span><span class="nv">$thirdaddress</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setNo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setItemCode</span><span class="p">(</span><span class="s2">"FREIGHT"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setDescription</span><span class="p">(</span><span class="s2">"Shipping Charge"</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setQty</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setAmount</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
<span class="nv">$line3</span><span class="o">-&gt;</span><span class="na">setTaxCode</span><span class="p">(</span><span class="s2">"FR"</span><span class="p">);</span>

<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setLines</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$line1</span><span class="p">,</span> <span class="nv">$line2</span><span class="p">,</span> <span class="nv">$line3</span><span class="p">));</span>

<span class="nv">$origin</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"45 Fremont Street"</span><span class="p">);</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"San Francisco"</span><span class="p">);</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"CA"</span><span class="p">);</span>
<span class="nv">$origin</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setOriginAddress</span><span class="p">(</span><span class="nv">$origin</span><span class="p">);</span>

<span class="nv">$destination</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"118 N Clark St"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">"Suite 100"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">"ATTN Accounts Payable"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Chicago"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"IL"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"60602-1304"</span><span class="p">);</span>
<span class="nv">$destination</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setDestinationAddress</span><span class="p">(</span><span class="nv">$destination</span><span class="p">);</span>

<span class="nv">$thirdaddress</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"100 Ravine Lane"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">"Suite 100"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Bainbridge Island"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"WA"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"98110"</span><span class="p">);</span>
<span class="nv">$thirdaddress</span><span class="o">-&gt;</span><span class="na">setCountry</span><span class="p">(</span><span class="s2">"US"</span><span class="p">);</span>
<span class="nv">$getTaxRequest</span><span class="o">-&gt;</span><span class="na">setAddressCode</span><span class="p">(</span><span class="nv">$thirdaddress</span><span class="p">);</span>

<span class="nv">$adjustTaxRequest</span><span class="o">-&gt;</span><span class="na">setGetTaxRequest</span><span class="p">(</span><span class="nv">$getTaxRequest</span><span class="p">);</span>
<span class="nv">$adjustTaxResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">AdjustTax</span><span class="p">(</span><span class="nv">$adjustTaxRequest</span><span class="p">);</span>
<span class="cp">?&gt;</span>

</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">AdjustTaxRequest</span> <span class="n">adjustTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdjustTaxRequest</span><span class="o">();</span>
<span class="n">adjustTaxRequest</span><span class="o">.</span><span class="na">setAdjustmentDescription</span><span class="o">(</span><span class="s">"Transaction Adjusted for Testing"</span><span class="o">);</span>
<span class="n">adjustTaxRequest</span><span class="o">.</span><span class="na">setAdjustmentReason</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>

<span class="n">GetTaxRequest</span> <span class="n">getTaxRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GetTaxRequest</span><span class="o">();</span>
<span class="n">Format</span> <span class="n">formatter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleDateFormat</span><span class="o">(</span><span class="s">"yyyy-MM-dd"</span><span class="o">);</span>

<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setCompanyCode</span><span class="o">(</span><span class="s">"APITrialCompany"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDocType</span><span class="o">(</span><span class="n">DocumentType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDocCode</span><span class="o">(</span><span class="s">"INV001"</span><span class="o">);</span>
<span class="n">Date</span> <span class="n">docDate</span> <span class="o">=</span> <span class="o">(</span><span class="n">Date</span><span class="o">)</span><span class="n">formatter</span><span class="o">.</span><span class="na">parseObject</span><span class="o">(</span><span class="s">"2014-01-01"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDocDate</span><span class="o">(</span><span class="n">docDate</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setCustomerCode</span><span class="o">(</span><span class="s">"ABC4335"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDetailLevel</span><span class="o">(</span><span class="n">DetailLevel</span><span class="o">.</span><span class="na">Tax</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setOriginCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setDestinationCode</span><span class="o">(</span><span class="s">"02"</span><span class="o">);</span>

<span class="c1">// getTaxRequest.setSalespersonCode("Bill Sales");</span>
<span class="c1">// getTaxRequest.setCustomerUsageType("G");</span>
<span class="c1">// getTaxRequest.setDiscount(new BigDecimal(50.00));</span>
<span class="c1">// getTaxRequest.setPurchaseOrderNo("PO123456");</span>
<span class="c1">// getTaxRequest.setExemptionNo("12345");</span>
<span class="c1">// getTaxRequest.setReferenceCode("ref123456");</span>
<span class="c1">// getTaxRequest.setLocationCode("01");</span>
<span class="c1">// getTaxRequest.setCommit(true);</span>
<span class="c1">// getTaxRequest.setCurrencyCode("USD");</span>
<span class="c1">// getTaxRequest.setServiceMode(ServiceMode.Automatic);</span>
<span class="c1">// getTaxRequest.setExchangeRate(new BigDecimal(9.00));</span>
<span class="c1">// Date ExchangeRateEffDate = (Date)formatter.parseObject("2013-01-01");</span>
<span class="c1">// getTaxRequest.setExchangeRateEffDate(ExchangeRateEffDate);</span>
<span class="c1">// getTaxRequest.setPosLaneCode("09");</span>
<span class="c1">// getTaxRequest.setBusinessIdentificationNo("234243");</span>
<span class="c1">//  </span>
<span class="c1">// TaxOverride taxOverride = new TaxOverride();</span>
<span class="c1">// taxOverride.setReason("Adjustment for return");</span>
<span class="c1">// taxOverride.setTaxOverrideType(TaxOverrideType.TaxDate);</span>
<span class="c1">// taxOverride.setTaxAmount(new BigDecimal(0.00));</span>
<span class="c1">// Date taxOverrideDate = (Date)formatter.parseObject("2013-07-01");</span>
<span class="c1">// taxOverride.setTaxDate(taxOverrideDate);</span>
<span class="c1">// getTaxRequest.setTaxOverride(taxOverride);</span>

<span class="n">ArrayOfLine</span> <span class="n">lines</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayOfLine</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
<span class="n">Line</span> <span class="n">line</span><span class="o">;</span>

<span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setItemCode</span><span class="o">(</span><span class="s">"N543"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Red Size 7 Widget"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"PC030147"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">1.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">10.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"NT"</span><span class="o">);</span>

<span class="c1">//    line.setCustomerUsageType("L");</span>
<span class="c1">//    line.setExemptionNo("12345");</span>
<span class="c1">//    line.setDiscounted(true);</span>
<span class="c1">//    line.setTaxIncluded(true);</span>
<span class="c1">//    line.setRef1("123");</span>
<span class="c1">//    line.setRef2("456");</span>

<span class="n">lines</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>

<span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="s">"02"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setOriginCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDestinationCode</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setItemCode</span><span class="o">(</span><span class="s">"T345"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Size 10 Green Running Shoe"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">3.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">150.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"PC030147"</span><span class="o">);</span>
<span class="n">lines</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>

<span class="n">line</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Line</span><span class="o">();</span>
<span class="n">line</span><span class="o">.</span><span class="na">setOriginCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDestinationCode</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setNo</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setItemCode</span><span class="o">(</span><span class="s">"FREIGHT"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setDescription</span><span class="o">(</span><span class="s">"Shipping Charge"</span><span class="o">);</span>
<span class="n">line</span><span class="o">.</span><span class="na">setQty</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">1.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setAmount</span><span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mf">15.00</span><span class="o">));</span>
<span class="n">line</span><span class="o">.</span><span class="na">setTaxCode</span><span class="o">(</span><span class="s">"FR"</span><span class="o">);</span>
<span class="n">lines</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>

<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setLines</span><span class="o">(</span><span class="n">lines</span><span class="o">);</span>

<span class="n">ArrayOfBaseAddress</span> <span class="n">addresses</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayOfBaseAddress</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>

<span class="n">BaseAddress</span> <span class="n">address1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BaseAddress</span><span class="o">();</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setAddressCode</span><span class="o">(</span><span class="s">"01"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"45 Fremont Street"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setLine3</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"San Francisco"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setRegion</span><span class="o">(</span><span class="s">"CA"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"94105"</span><span class="o">);</span>
<span class="n">address1</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
<span class="n">addresses</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">address1</span><span class="o">);</span>

<span class="n">BaseAddress</span> <span class="n">address2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BaseAddress</span><span class="o">();</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setAddressCode</span><span class="o">(</span><span class="s">"02"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setLine3</span><span class="o">(</span><span class="s">"ATTN Accounts Payable"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"118 N Clark St"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">"Suite 100"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Chicago"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setRegion</span><span class="o">(</span><span class="s">"IL"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">"60602"</span><span class="o">);</span>
<span class="n">address2</span><span class="o">.</span><span class="na">setCountry</span><span class="o">(</span><span class="s">"US"</span><span class="o">);</span>
<span class="n">addresses</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">address2</span><span class="o">);</span>

<span class="n">BaseAddress</span> <span class="n">address3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BaseAddress</span><span class="o">();</span>
<span class="n">address3</span><span class="o">.</span><span class="na">setAddressCode</span><span class="o">(</span><span class="s">"03"</span><span class="o">);</span>
<span class="n">address3</span><span class="o">.</span><span class="na">setLatitude</span><span class="o">(</span><span class="s">"47.627935"</span><span class="o">);</span>
<span class="n">address3</span><span class="o">.</span><span class="na">setLongitude</span><span class="o">(</span><span class="s">"-122.51702"</span><span class="o">);</span>
<span class="n">addresses</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">address3</span><span class="o">);</span>

<span class="n">getTaxRequest</span><span class="o">.</span><span class="na">setAddresses</span><span class="o">(</span><span class="n">addresses</span><span class="o">);</span>

<span class="n">adjustTaxRequest</span><span class="o">.</span><span class="na">setGetTaxRequest</span><span class="o">(</span><span class="n">getTaxRequest</span><span class="o">);</span>

<span class="n">AdjustTaxResult</span> <span class="n">adjustTaxResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">adjustTax</span><span class="o">(</span><span class="n">adjustTaxRequest</span><span class="o">);</span>
</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;AdjustTaxResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;DocId&gt;</span>48769272<span class="nt">&lt;/DocId&gt;</span>
<span class="nt">&lt;DocType&gt;</span>SalesInvoice<span class="nt">&lt;/DocType&gt;</span>
<span class="nt">&lt;DocCode&gt;</span>INV001<span class="nt">&lt;/DocCode&gt;</span>
<span class="nt">&lt;DocDate&gt;</span>2014-01-01<span class="nt">&lt;/DocDate&gt;</span>
<span class="nt">&lt;DocStatus&gt;</span>Saved<span class="nt">&lt;/DocStatus&gt;</span>
<span class="nt">&lt;Reconciled&gt;</span>false<span class="nt">&lt;/Reconciled&gt;</span>
<span class="nt">&lt;Timestamp&gt;</span>2014-03-25T23:20:34.9880568Z<span class="nt">&lt;/Timestamp&gt;</span>
<span class="nt">&lt;TotalAmount&gt;</span>175<span class="nt">&lt;/TotalAmount&gt;</span>
<span class="nt">&lt;TotalDiscount&gt;</span>0<span class="nt">&lt;/TotalDiscount&gt;</span>
<span class="nt">&lt;TotalExemption&gt;</span>10.94<span class="nt">&lt;/TotalExemption&gt;</span>
<span class="nt">&lt;TotalTaxable&gt;</span>164.06<span class="nt">&lt;/TotalTaxable&gt;</span>
<span class="nt">&lt;TotalTax&gt;</span>14.27<span class="nt">&lt;/TotalTax&gt;</span>
<span class="nt">&lt;TotalTaxCalculated&gt;</span>14.27<span class="nt">&lt;/TotalTaxCalculated&gt;</span>
<span class="nt">&lt;HashCode&gt;</span>0<span class="nt">&lt;/HashCode&gt;</span>
<span class="nt">&lt;TaxLines&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>01<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>NT<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>false<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Address<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>10<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.092500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>17<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.062500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>ILLINOIS<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>County<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>031<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.007500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>COOK<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL COUNTY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>14000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.012500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>CHICAGO<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>Special<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>AQOF<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.010000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>REGIONAL TRANSPORT. 
AUTHORITY (RTA)<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL SPECIAL TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>02<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>PC030147<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>true<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Zip5<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.087000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>13.05<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>13.05<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>53<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>150<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.065000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>9.75<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>9.75<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>WASHINGTON<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo/&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>03736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>150<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.022000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>3.3<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>3.3<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>BAINBRIDGE ISLAND<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>1804<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>02-FR<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>FR<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>true<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Zip5<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0.94<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.087000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>1.22<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>1.22<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>53<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>14.06<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.065000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0.91<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0.91<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0.94<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>WASHINGTON<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo/&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>03736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>14.06<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.022000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0.31<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0.31<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0.94<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>BAINBRIDGE ISLAND<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>45<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>1804<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;/TaxLines&gt;</span>
<span class="nt">&lt;TaxAddresses&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>45 Fremont St<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>12337243<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2113460<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode/&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>37.791119<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.397366<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>45 Fremont St<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>12337243<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2113460<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode/&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>37.791119<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.397366<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>45 Fremont St<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>12337243<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2113460<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>0607500000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>37.791119<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.397366<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address&gt;</span>118 N Clark St Ste 100<span class="nt">&lt;/Address&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>18305036<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>0<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City&gt;</span>Chicago<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>60602-1304<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2062953<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>1703114000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>41.884132<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-87.631048<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType&gt;</span>StreetLevel<span class="nt">&lt;/GeocodeType&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>NormalHit<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>0<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address/&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>18420268<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>2<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City/&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode/&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2109716<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode/&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>47.627935<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.51702<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType/&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>Not Validated<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>2392<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;TaxAddress&gt;</span>
<span class="nt">&lt;Address/&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>18420268<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>2<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;City/&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;PostalCode/&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2109716<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>5303503736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>47.627935<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-122.51702<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;GeocodeType/&gt;</span>
<span class="nt">&lt;ValidateStatus&gt;</span>Not Validated<span class="nt">&lt;/ValidateStatus&gt;</span>
<span class="nt">&lt;DistanceToBoundary&gt;</span>2392<span class="nt">&lt;/DistanceToBoundary&gt;</span>
<span class="nt">&lt;/TaxAddress&gt;</span>
<span class="nt">&lt;/TaxAddresses&gt;</span>
<span class="nt">&lt;Locked&gt;</span>false<span class="nt">&lt;/Locked&gt;</span>
<span class="nt">&lt;AdjustmentReason&gt;</span>4<span class="nt">&lt;/AdjustmentReason&gt;</span>
<span class="nt">&lt;AdjustmentDescription&gt;</span>
Transaction Adjusted for Testing<span class="nt">&lt;/AdjustmentDescription&gt;</span>
<span class="nt">&lt;Version&gt;</span>2<span class="nt">&lt;/Version&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;TaxSummary/&gt;</span>
<span class="nt">&lt;VolatileTaxRates&gt;</span>false<span class="nt">&lt;/VolatileTaxRates&gt;</span>
<span class="nt">&lt;/AdjustTaxResult&gt;</span>

</pre>

<p>AdjustTax allows you to make adjustments to existing committed documents. Be aware that modifying committed documents may lead to reconciliation issues if not properly managed. When a document is adjusted via this method, all versions of the document are stored in the Avalara database to preserve the history, but only the most recent version will appear in the admin console or on reports.</p>

<p><strong>NOTE:</strong> If Document status is Locked (meaning Avalara has already submitted the document on a return to the tax authority), then the system will not process any AdjustTax call.</p>
<h3 id='adjusttax-request'>AdjustTax Request</h3>
<p>Input for adjusting documents. An AdjustTaxRequest consists of the body of a regular GetTaxRequest plus the addition of the AdjustTaxRequest object and calling method.</p>
<h4 id='properties'>Properties</h4>
<p><strong>AdjustmentReason:</strong> int, <em>required</em></p>

<p>Sets a valid reason for the given AdjustTax call. AdjustmentReason is a high level classification of why an Original Document is being modified. </p>

<p>Options:</p>

<ul>
<li>0 - Not Adjusted </li>
<li>1 - Sourcing Issue </li>
<li>2 - Reconciled with General Ledger </li>
<li>3 - Exemption Certificate Applied </li>
<li>4 - Price or Quantity Adjusted </li>
<li>5 - Item Returned </li>
<li>6 - Item Exchanged </li>
<li>7 - Bad Debt </li>
<li>8 - Other (Explain) Must provide AdjustmentDescription </li>
</ul>

<p><strong>AdjustmentDescription:</strong> string [255], <em>required when AdjustmentReason is Other</em></p>

<p>Should be used when AdjustmentReason is &ldquo;Other&rdquo; for enhanced traceability. Leave empty for all AdjustmentReason selections except 8 - Other.</p>

<p><strong>GetTaxRequest:</strong> GetTaxRequest, <em>required</em></p>

<p>The GetTaxRequest object that will replace the original document. All original values that aren&rsquo;t being modified need to be populated in this object in addition to any values that are being modified.</p>
<h3 id='adjusttax-result'>AdjustTax Result</h3>
<p>Result data returned from AdjustTax. Within this result you will find the same elements as a GetTaxResult.</p>

<p>It is likely you will want to consider retrieving the document Version in addition to other tax related information. This is an element of all GetTaxResult or AdjustTaxResult objects.</p>
<h4 id='properties'>Properties</h4>
<p><strong>AdjustTaxResult:</strong> AdjustTaxResult</p>

<p>The AdjustTaxResult for the document. </p>

<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request. Properties defined in <a title="Common Response Format" href="http://developer.avalara.com/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

          <h2 id='gettaxhistory'>GetTaxHistory</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">GetTaxHistoryRequest</span> <span class="n">getTaxHistoryRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GetTaxHistoryRequest</span><span class="p">();</span>

<span class="n">getTaxHistoryRequest</span><span class="p">.</span><span class="n">CompanyCode</span> <span class="p">=</span> <span class="s">"APITrialCompany"</span><span class="p">;</span>
<span class="n">getTaxHistoryRequest</span><span class="p">.</span><span class="n">DocType</span> <span class="p">=</span> <span class="n">DocumentType</span><span class="p">.</span><span class="n">SalesInvoice</span><span class="p">;</span>
<span class="n">getTaxHistoryRequest</span><span class="p">.</span><span class="n">DocCode</span> <span class="p">=</span> <span class="s">"INV001"</span><span class="p">;</span>
<span class="n">getTaxHistoryRequest</span><span class="p">.</span><span class="n">DetailLevel</span> <span class="p">=</span> <span class="n">DetailLevel</span><span class="p">.</span><span class="n">Tax</span><span class="p">;</span>

<span class="n">GetTaxHistoryResult</span> <span class="n">getTaxHistoryResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">GetTaxHistory</span><span class="p">(</span><span class="n">getTaxHistoryRequest</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$getTaxHistoryRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GetTaxHistoryRequest</span><span class="p">();</span>
<span class="nv">$getTaxHistoryRequest</span><span class="o">-&gt;</span><span class="na">setCompanyCode</span><span class="p">(</span><span class="s2">"APITrialCompany"</span><span class="p">);</span>
<span class="nv">$getTaxHistoryRequest</span><span class="o">-&gt;</span><span class="na">setDocType</span><span class="p">(</span><span class="nx">DocumentType</span><span class="o">::</span><span class="nv">$SalesInvoice</span><span class="p">);</span>
<span class="nv">$getTaxHistoryRequest</span><span class="o">-&gt;</span><span class="na">setDocCode</span><span class="p">(</span><span class="s2">"INV001"</span><span class="p">);</span>
<span class="nv">$getTaxHistoryRequest</span><span class="o">-&gt;</span><span class="na">setDetailLevel</span><span class="p">(</span><span class="nx">DetailLevel</span><span class="o">::</span><span class="nv">$Tax</span><span class="p">);</span>

<span class="nv">$getTaxHistoryResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">getTaxHistory</span><span class="p">(</span><span class="nv">$getTaxHistoryRequest</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">GetTaxHistoryRequest</span> <span class="n">getTaxHistoryRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GetTaxHistoryRequest</span><span class="o">();</span>
<span class="n">getTaxHistoryRequest</span><span class="o">.</span><span class="na">setDocCode</span><span class="o">(</span><span class="s">"INV001"</span><span class="o">);</span>
<span class="n">getTaxHistoryRequest</span><span class="o">.</span><span class="na">setCompanyCode</span><span class="o">(</span><span class="s">"APITrialCompany"</span><span class="o">);</span>
<span class="n">getTaxHistoryRequest</span><span class="o">.</span><span class="na">setDocType</span><span class="o">(</span><span class="n">DocumentType</span><span class="o">.</span><span class="na">SalesInvoice</span><span class="o">);</span>
<span class="n">getTaxHistoryRequest</span><span class="o">.</span><span class="na">setDetailLevel</span><span class="o">(</span><span class="n">DetailLevel</span><span class="o">.</span><span class="na">Tax</span><span class="o">);</span>

<span class="n">GetTaxHistoryResult</span> <span class="n">getTaxHistoryResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">getTaxHistory</span><span class="o">(</span><span class="n">getTaxHistoryRequest</span><span class="o">);</span>

</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;GetTaxHistoryResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;GetTaxRequest&gt;</span>
<span class="nt">&lt;CompanyCode&gt;</span>APITrialCompany<span class="nt">&lt;/CompanyCode&gt;</span>
<span class="nt">&lt;DocType&gt;</span>SalesInvoice<span class="nt">&lt;/DocType&gt;</span>
<span class="nt">&lt;DocCode&gt;</span>INV0012014032502<span class="nt">&lt;/DocCode&gt;</span>
<span class="nt">&lt;DocDate&gt;</span>2014-01-01<span class="nt">&lt;/DocDate&gt;</span>
<span class="nt">&lt;SalespersonCode&gt;</span>Bill Sales<span class="nt">&lt;/SalespersonCode&gt;</span>
<span class="nt">&lt;CustomerCode&gt;</span>ABC4335<span class="nt">&lt;/CustomerCode&gt;</span>
<span class="nt">&lt;CustomerUsageType/&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;PurchaseOrderNo&gt;</span>PO123456<span class="nt">&lt;/PurchaseOrderNo&gt;</span>
<span class="nt">&lt;ExemptionNo/&gt;</span>
<span class="nt">&lt;OriginCode&gt;</span>0<span class="nt">&lt;/OriginCode&gt;</span>
<span class="nt">&lt;DestinationCode&gt;</span>1<span class="nt">&lt;/DestinationCode&gt;</span>
<span class="nt">&lt;Addresses&gt;</span>
<span class="nt">&lt;BaseAddress&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>0<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;Line1&gt;</span>45 Fremont St<span class="nt">&lt;/Line1&gt;</span>
<span class="nt">&lt;Line2/&gt;</span>
<span class="nt">&lt;Line3/&gt;</span>
<span class="nt">&lt;City&gt;</span>San Francisco<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Region&gt;</span>CA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>94105-2204<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>0<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;Latitude/&gt;</span>
<span class="nt">&lt;Longitude/&gt;</span>
<span class="nt">&lt;/BaseAddress&gt;</span>
<span class="nt">&lt;BaseAddress&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>1<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;Line1&gt;</span>118 N Clark St Ste 100<span class="nt">&lt;/Line1&gt;</span>
<span class="nt">&lt;Line2/&gt;</span>
<span class="nt">&lt;Line3/&gt;</span>
<span class="nt">&lt;City&gt;</span>Chicago<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>60602-1304<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>0<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;Latitude/&gt;</span>
<span class="nt">&lt;Longitude/&gt;</span>
<span class="nt">&lt;/BaseAddress&gt;</span>
<span class="nt">&lt;BaseAddress&gt;</span>
<span class="nt">&lt;AddressCode&gt;</span>2<span class="nt">&lt;/AddressCode&gt;</span>
<span class="nt">&lt;Line1/&gt;</span>
<span class="nt">&lt;Line2/&gt;</span>
<span class="nt">&lt;Line3/&gt;</span>
<span class="nt">&lt;City/&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;PostalCode/&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>0<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;Latitude/&gt;</span>
<span class="nt">&lt;Longitude/&gt;</span>
<span class="nt">&lt;/BaseAddress&gt;</span>
<span class="nt">&lt;/Addresses&gt;</span>
<span class="nt">&lt;Lines&gt;</span>
<span class="nt">&lt;Line&gt;</span>
<span class="nt">&lt;No&gt;</span>01<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;OriginCode/&gt;</span>
<span class="nt">&lt;DestinationCode/&gt;</span>
<span class="nt">&lt;ItemCode&gt;</span>N543<span class="nt">&lt;/ItemCode&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>NT<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Qty&gt;</span>1.0000<span class="nt">&lt;/Qty&gt;</span>
<span class="nt">&lt;Amount&gt;</span>10<span class="nt">&lt;/Amount&gt;</span>
<span class="nt">&lt;Discounted&gt;</span>false<span class="nt">&lt;/Discounted&gt;</span>
<span class="nt">&lt;RevAcct/&gt;</span>
<span class="nt">&lt;Ref1&gt;</span>ref123<span class="nt">&lt;/Ref1&gt;</span>
<span class="nt">&lt;Ref2&gt;</span>ref456<span class="nt">&lt;/Ref2&gt;</span>
<span class="nt">&lt;ExemptionNo/&gt;</span>
<span class="nt">&lt;CustomerUsageType/&gt;</span>
<span class="nt">&lt;Description&gt;</span>Red Size 7 Widget<span class="nt">&lt;/Description&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;BusinessIdentificationNo/&gt;</span>
<span class="nt">&lt;/Line&gt;</span>
<span class="nt">&lt;Line&gt;</span>
<span class="nt">&lt;No&gt;</span>02<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;OriginCode/&gt;</span>
<span class="nt">&lt;DestinationCode&gt;</span>2<span class="nt">&lt;/DestinationCode&gt;</span>
<span class="nt">&lt;ItemCode&gt;</span>T345<span class="nt">&lt;/ItemCode&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>PC030147<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Qty&gt;</span>3.0000<span class="nt">&lt;/Qty&gt;</span>
<span class="nt">&lt;Amount&gt;</span>150<span class="nt">&lt;/Amount&gt;</span>
<span class="nt">&lt;Discounted&gt;</span>false<span class="nt">&lt;/Discounted&gt;</span>
<span class="nt">&lt;RevAcct/&gt;</span>
<span class="nt">&lt;Ref1/&gt;</span>
<span class="nt">&lt;Ref2/&gt;</span>
<span class="nt">&lt;ExemptionNo/&gt;</span>
<span class="nt">&lt;CustomerUsageType/&gt;</span>
<span class="nt">&lt;Description&gt;</span>Size 10 Green Running Shoe<span class="nt">&lt;/Description&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;BusinessIdentificationNo/&gt;</span>
<span class="nt">&lt;/Line&gt;</span>
<span class="nt">&lt;Line&gt;</span>
<span class="nt">&lt;No&gt;</span>02-FR<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;OriginCode/&gt;</span>
<span class="nt">&lt;DestinationCode&gt;</span>2<span class="nt">&lt;/DestinationCode&gt;</span>
<span class="nt">&lt;ItemCode&gt;</span>FREIGHT<span class="nt">&lt;/ItemCode&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>FR<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Qty&gt;</span>1.0000<span class="nt">&lt;/Qty&gt;</span>
<span class="nt">&lt;Amount&gt;</span>15<span class="nt">&lt;/Amount&gt;</span>
<span class="nt">&lt;Discounted&gt;</span>false<span class="nt">&lt;/Discounted&gt;</span>
<span class="nt">&lt;RevAcct/&gt;</span>
<span class="nt">&lt;Ref1/&gt;</span>
<span class="nt">&lt;Ref2/&gt;</span>
<span class="nt">&lt;ExemptionNo/&gt;</span>
<span class="nt">&lt;CustomerUsageType/&gt;</span>
<span class="nt">&lt;Description&gt;</span>Shipping Charge<span class="nt">&lt;/Description&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;BusinessIdentificationNo/&gt;</span>
<span class="nt">&lt;/Line&gt;</span>
<span class="nt">&lt;/Lines&gt;</span>
<span class="nt">&lt;DetailLevel&gt;</span>Tax<span class="nt">&lt;/DetailLevel&gt;</span>
<span class="nt">&lt;ReferenceCode&gt;</span>ref123456<span class="nt">&lt;/ReferenceCode&gt;</span>
<span class="nt">&lt;HashCode&gt;</span>0<span class="nt">&lt;/HashCode&gt;</span>
<span class="nt">&lt;LocationCode/&gt;</span>
<span class="nt">&lt;Commit&gt;</span>false<span class="nt">&lt;/Commit&gt;</span>
<span class="nt">&lt;BatchCode/&gt;</span>
<span class="nt">&lt;CurrencyCode&gt;</span>USD<span class="nt">&lt;/CurrencyCode&gt;</span>
<span class="nt">&lt;ServiceMode&gt;</span>Automatic<span class="nt">&lt;/ServiceMode&gt;</span>
<span class="nt">&lt;PaymentDate&gt;</span>1900-01-01<span class="nt">&lt;/PaymentDate&gt;</span>
<span class="nt">&lt;ExchangeRate&gt;</span>1.0000<span class="nt">&lt;/ExchangeRate&gt;</span>
<span class="nt">&lt;ExchangeRateEffDate&gt;</span>2013-01-01<span class="nt">&lt;/ExchangeRateEffDate&gt;</span>
<span class="nt">&lt;PosLaneCode&gt;</span>09<span class="nt">&lt;/PosLaneCode&gt;</span>
<span class="nt">&lt;BusinessIdentificationNo/&gt;</span>
<span class="nt">&lt;/GetTaxRequest&gt;</span>
<span class="nt">&lt;GetTaxResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;DocId&gt;</span>48769272<span class="nt">&lt;/DocId&gt;</span>
<span class="nt">&lt;DocType&gt;</span>SalesInvoice<span class="nt">&lt;/DocType&gt;</span>
<span class="nt">&lt;DocCode&gt;</span>INV0012014032502<span class="nt">&lt;/DocCode&gt;</span>
<span class="nt">&lt;DocDate&gt;</span>2014-01-01<span class="nt">&lt;/DocDate&gt;</span>
<span class="nt">&lt;DocStatus&gt;</span>Cancelled<span class="nt">&lt;/DocStatus&gt;</span>
<span class="nt">&lt;Reconciled&gt;</span>false<span class="nt">&lt;/Reconciled&gt;</span>
<span class="nt">&lt;Timestamp&gt;</span>2014-03-25T23:20:35.847<span class="nt">&lt;/Timestamp&gt;</span>
<span class="nt">&lt;TotalAmount&gt;</span>175<span class="nt">&lt;/TotalAmount&gt;</span>
<span class="nt">&lt;TotalDiscount&gt;</span>0<span class="nt">&lt;/TotalDiscount&gt;</span>
<span class="nt">&lt;TotalExemption&gt;</span>10.94<span class="nt">&lt;/TotalExemption&gt;</span>
<span class="nt">&lt;TotalTaxable&gt;</span>164.06<span class="nt">&lt;/TotalTaxable&gt;</span>
<span class="nt">&lt;TotalTax&gt;</span>14.27<span class="nt">&lt;/TotalTax&gt;</span>
<span class="nt">&lt;TotalTaxCalculated&gt;</span>14.27<span class="nt">&lt;/TotalTaxCalculated&gt;</span>
<span class="nt">&lt;HashCode&gt;</span>0<span class="nt">&lt;/HashCode&gt;</span>
<span class="nt">&lt;TaxLines&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>01<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>NT<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>false<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Address<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>10<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.092500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>17<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.062500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>ILLINOIS<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>County<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>031<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.007500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>COOK<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL COUNTY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>14000<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.012500<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>CHICAGO<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>Special<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>AQOF<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>0<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>0<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.010000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>10<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>REGIONAL TRANSPORT. 
AUTHORITY (RTA)<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>IL SPECIAL TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>016-0001-1 CHICAGO<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>02<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>PC030147<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>true<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Zip5<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.087000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>13.05<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>13.05<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>53<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>150<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.065000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>9.75<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>9.75<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>WASHINGTON<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo/&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>03736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>150<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>150<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.022000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>3.3<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>3.3<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>BAINBRIDGE ISLAND<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>1804<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;TaxLine&gt;</span>
<span class="nt">&lt;No&gt;</span>02-FR<span class="nt">&lt;/No&gt;</span>
<span class="nt">&lt;TaxCode&gt;</span>FR<span class="nt">&lt;/TaxCode&gt;</span>
<span class="nt">&lt;Taxability&gt;</span>true<span class="nt">&lt;/Taxability&gt;</span>
<span class="nt">&lt;BoundaryLevel&gt;</span>Zip5<span class="nt">&lt;/BoundaryLevel&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0.94<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;Discount&gt;</span>0<span class="nt">&lt;/Discount&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.087000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>1.22<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>1.22<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;TaxIncluded&gt;</span>false<span class="nt">&lt;/TaxIncluded&gt;</span>
<span class="nt">&lt;TaxDetails&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>State<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>53<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>14.06<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.065000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0.91<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0.91<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0.94<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>WASHINGTON<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA STATE TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo/&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;TaxDetail&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;Region&gt;</span>WA<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;JurisType&gt;</span>City<span class="nt">&lt;/JurisType&gt;</span>
<span class="nt">&lt;JurisCode&gt;</span>03736<span class="nt">&lt;/JurisCode&gt;</span>
<span class="nt">&lt;TaxType&gt;</span>Sales<span class="nt">&lt;/TaxType&gt;</span>
<span class="nt">&lt;Base&gt;</span>14.06<span class="nt">&lt;/Base&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>14.06<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;Rate&gt;</span>0.022000<span class="nt">&lt;/Rate&gt;</span>
<span class="nt">&lt;Tax&gt;</span>0.31<span class="nt">&lt;/Tax&gt;</span>
<span class="nt">&lt;TaxCalculated&gt;</span>0.31<span class="nt">&lt;/TaxCalculated&gt;</span>
<span class="nt">&lt;NonTaxable&gt;</span>0.94<span class="nt">&lt;/NonTaxable&gt;</span>
<span class="nt">&lt;Exemption&gt;</span>0<span class="nt">&lt;/Exemption&gt;</span>
<span class="nt">&lt;JurisName&gt;</span>BAINBRIDGE ISLAND<span class="nt">&lt;/JurisName&gt;</span>
<span class="nt">&lt;TaxName&gt;</span>WA CITY TAX<span class="nt">&lt;/TaxName&gt;</span>
<span class="nt">&lt;TaxAuthorityType&gt;</span>-1<span class="nt">&lt;/TaxAuthorityType&gt;</span>
<span class="nt">&lt;TaxGroup/&gt;</span>
<span class="nt">&lt;RateType&gt;</span>G<span class="nt">&lt;/RateType&gt;</span>
<span class="nt">&lt;StateAssignedNo&gt;</span>1804<span class="nt">&lt;/StateAssignedNo&gt;</span>
<span class="nt">&lt;/TaxDetail&gt;</span>
<span class="nt">&lt;/TaxDetails&gt;</span>
<span class="nt">&lt;ExemptCertId&gt;</span>0<span class="nt">&lt;/ExemptCertId&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;ReportingDate&gt;</span>2014-01-01<span class="nt">&lt;/ReportingDate&gt;</span>
<span class="nt">&lt;AccountingMethod&gt;</span>Accrual<span class="nt">&lt;/AccountingMethod&gt;</span>
<span class="nt">&lt;/TaxLine&gt;</span>
<span class="nt">&lt;/TaxLines&gt;</span>
<span class="nt">&lt;TaxAddresses/&gt;</span>
<span class="nt">&lt;Locked&gt;</span>false<span class="nt">&lt;/Locked&gt;</span>
<span class="nt">&lt;AdjustmentReason&gt;</span>4<span class="nt">&lt;/AdjustmentReason&gt;</span>
<span class="nt">&lt;AdjustmentDescription&gt;</span>
Transaction Adjusted for Testing<span class="nt">&lt;/AdjustmentDescription&gt;</span>
<span class="nt">&lt;Version&gt;</span>2<span class="nt">&lt;/Version&gt;</span>
<span class="nt">&lt;TaxDate&gt;</span>2014-01-01<span class="nt">&lt;/TaxDate&gt;</span>
<span class="nt">&lt;TaxSummary/&gt;</span>
<span class="nt">&lt;VolatileTaxRates&gt;</span>false<span class="nt">&lt;/VolatileTaxRates&gt;</span>
<span class="nt">&lt;/GetTaxResult&gt;</span>
<span class="nt">&lt;/GetTaxHistoryResult&gt;</span>

</pre>

<p>GetTaxHistory allows you to query our service to retrieve details for previously saved documents.</p>
<h3 id='gettaxhistory-request'>GetTaxHistory Request</h3>
<p>Input for GetTaxHistory indicating the document for which history should be retrieved. The request must specify all of CompanyCode, DocCode, and DocType in order to uniquely identify the document.</p>
<h4 id='properties'>Properties</h4>
<p><strong>CompanyCode:</strong> string [25], <em>required</em></p>

<p>Gets or sets the client application company reference code.</p>

<p><strong>DocCode:</strong> string [50], <em>required</em></p>

<p>Gets or sets the Document Code, i.e. the internal reference code used by the client application.</p>

<p><strong>DocType:</strong> DocumentType, <em>required</em></p>

<p>The original document&rsquo;s type, such as Sales Invoice or Purchase Invoice</p>

<p><strong>DetailLevel:</strong> DetailLevel, <em>required</em></p>

<p>Specifies the level of detail to return.</p>
<h3 id='gettaxhistory-result'>GetTaxHistory Result</h3>
<p>Result data returned from GetTaxHistory. You can retrieve any part of the GetTaxRequest or GetTaxResult.</p>
<h4 id='properties'>Properties</h4>
<p><strong>GetTaxRequest:</strong> GetTaxRequest</p>

<p>The original GetTaxRequest for the document.</p>

<p><strong>GetTaxResult:</strong> GetTaxResult</p>

<p>The original GetTaxResult for the document.</p>

<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request.</p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

          <h2 id='isauthorized'>IsAuthorized</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">IsAuthorizedResult</span> <span class="n">isAuthorizedResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">IsAuthorized</span><span class="p">(</span><span class="s">"Ping, IsAuthorized, GetTax,PostTax, GetTaxHistory, CommitTax,CancelTax, AdjustTax"</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$isAuthorizedResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">isAuthorized</span><span class="p">(</span><span class="s2">"Ping,IsAuthorized,GetTax,PostTax,GetTaxHistory,CommitTax,CancelTax,AdjustTax"</span><span class="p">);</span>    
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">IsAuthorizedResult</span> <span class="n">isAuthorizedResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">isAuthorized</span><span class="o">(</span><span class="s">"Ping, IsAuthorized,GetTax, PostTax, GetTaxHistory, CommitTax, CancelTax, AdjustTax"</span><span class="o">);</span>

</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;IsAuthorizedResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;Expires&gt;</span>2024-01-01<span class="nt">&lt;/Expires&gt;</span>
<span class="nt">&lt;Operations&gt;</span>Ping,IsAuthorized,GetTax,PostTax,GetTaxHistory,CommitTax,CancelTax,AdjustTax<span class="nt">&lt;/Operations&gt;</span>
<span class="nt">&lt;/IsAuthorizedResult&gt;</span>
</pre>

<p>IsAuthorized allows you to send a user&rsquo;s credentials along with a list of AvaTax methods to check which methods that user is authorized to use. You can also get your account expiration date via this method. There is technically no request to build - just a string to pass in the method call when you instantiate the result object.</p>
<h3 id='isauthorized-result'>IsAuthorized Result</h3>
<p>Result data returned from IsAuthorized.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Expires:</strong> DateTime</p>

<p>The date and time at which your AvaTax account will expire.</p>

<p><strong>Operations:</strong> string [255]</p>

<p>The operations that the current user is authorized to use. Determined from the list provided in the IsAuthorized call.</p>

<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request. Properties defined in <a title="Common Response Format" href="/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

          <h2 id='ping'>Ping</h2><pre class="highlight shell">TBD

</pre>
<pre class="highlight csharp"><span class="n">TaxSvc</span> <span class="n">taxSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TaxSvc</span><span class="p">();</span>

<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span> <span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span> <span class="p">=</span> <span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">taxSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">PingResult</span> <span class="n">pingResult</span> <span class="p">=</span> <span class="n">taxSvc</span><span class="p">.</span><span class="nf">Ping</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>

<span class="nv">$taxSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TaxServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$pingResult</span> <span class="o">=</span> <span class="nv">$taxSvc</span><span class="o">-&gt;</span><span class="na">ping</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<pre class="highlight java"><span class="n">TaxSvcLocator</span> <span class="n">taxSvcLocator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TaxSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">TaxSvcSoap</span> <span class="n">taxSvc</span> <span class="o">=</span> <span class="n">taxSvcLocator</span><span class="o">.</span><span class="na">getTaxSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">taxSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">PingResult</span> <span class="n">pingResult</span> <span class="o">=</span> <span class="n">taxSvc</span><span class="o">.</span><span class="na">Ping</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>

</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;PingResult&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;Version&gt;</span>14.5.0.46<span class="nt">&lt;/Version&gt;</span>    
<span class="nt">&lt;/PingResult&gt;</span>
</pre>

<p>Ping allows you to check the availability of our web service at any given time. This is merely a call to the Ping method with an empty string as the data along with account or user credentials.</p>
<h3 id='ping-result'>Ping Result</h3>
<p>Result data returned from Ping.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Version:</strong> string [15]</p>

<p>The date and time at which your AvaTax account will expire.</p>

<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request. Properties defined in <a title="Common Response Format" href="http://developer.avalara.com/api-docs/soap/shared-formats-and-methods#CommonResponseFormat">Common Response Format</a></p>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>TransactionId:</strong> bigint as string</p>

<p>The unique transaction ID assigned by AvaTax to this request/response set. This value need only be retained for troubleshooting.</p>

          <h2 id='validateaddress'>ValidateAddress</h2><pre class="highlight shell">TBD
</pre>
<pre class="highlight csharp"><span class="n">AddressSvc</span> <span class="n">addressSvc</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AddressSvc</span><span class="p">();</span>
<span class="n">addressSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">Account</span><span class="p">=</span><span class="s">"1234567890"</span><span class="p">;</span>
<span class="n">addressSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Security</span><span class="p">.</span><span class="n">License</span><span class="p">=</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="p">;</span>
<span class="n">addressSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">addressSvc</span><span class="p">.</span><span class="n">Configuration</span><span class="p">.</span><span class="n">ViaUrl</span> <span class="p">=</span> <span class="s">"https://development.avalara.net"</span><span class="p">;</span>
<span class="n">addressSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Client</span> <span class="p">=</span> <span class="s">"AvaTaxSample"</span><span class="p">;</span>
<span class="n">addressSvc</span><span class="p">.</span><span class="n">Profile</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"Development"</span><span class="p">;</span>

<span class="n">ValidateRequest</span> <span class="n">validateRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValidateRequest</span><span class="p">();</span>
<span class="n">Address</span> <span class="n">address</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Address</span><span class="p">();</span> 

<span class="n">address</span><span class="p">.</span><span class="n">Line1</span> <span class="p">=</span> <span class="s">"118 N Clark St"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Line2</span> <span class="p">=</span> <span class="s">"Suite 100"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Line3</span> <span class="p">=</span> <span class="s">"ATTN Accounts Payable"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">City</span> <span class="p">=</span> <span class="s">"Chicago"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Region</span> <span class="p">=</span> <span class="s">"IL"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">Country</span> <span class="p">=</span> <span class="s">"US"</span><span class="p">;</span>
<span class="n">address</span><span class="p">.</span><span class="n">PostalCode</span> <span class="p">=</span> <span class="s">"60602"</span>

<span class="n">validateRequest</span><span class="p">.</span><span class="n">Address</span> <span class="p">=</span> <span class="n">address</span><span class="p">;</span>
<span class="n">validateRequest</span><span class="p">.</span><span class="n">Coordinates</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">validateRequest</span><span class="p">.</span><span class="n">Taxability</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">validateRequest</span><span class="p">.</span><span class="n">TextCase</span> <span class="p">=</span> <span class="n">TextCase</span><span class="p">.</span><span class="n">Upper</span><span class="p">;</span>

<span class="n">ValidateResult</span> <span class="n">validateResult</span> <span class="p">=</span> <span class="n">addressSvc</span><span class="p">.</span><span class="nf">Validate</span><span class="p">(</span><span class="n">validateRequest</span><span class="p">);</span>
</pre>
<pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../../AvaTax4PHP/AvaTax.php'</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">ATConfig</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'https://development.avalara.net'</span><span class="p">,</span>
    <span class="s1">'account'</span> <span class="o">=&gt;</span> <span class="s1">'1234567890'</span><span class="p">,</span>
    <span class="s1">'license'</span> <span class="o">=&gt;</span> <span class="s1">'A1B2C3D4E5F6G7H8'</span><span class="p">)</span>
<span class="p">);</span>
<span class="nv">$addressSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AddressServiceSoap</span><span class="p">(</span><span class="s1">'Development'</span><span class="p">);</span>

<span class="nv">$address</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Address</span><span class="p">();</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setLine1</span><span class="p">(</span><span class="s2">"118 N Clark St"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setLine2</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setLine3</span><span class="p">(</span><span class="s2">""</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setCity</span><span class="p">(</span><span class="s2">"Chicago"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setRegion</span><span class="p">(</span><span class="s2">"IL"</span><span class="p">);</span>
<span class="nv">$address</span><span class="o">-&gt;</span><span class="na">setPostalCode</span><span class="p">(</span><span class="s2">"60602"</span><span class="p">);</span>
<span class="nv">$textCase</span> <span class="o">=</span> <span class="nx">TextCase</span><span class="o">::</span><span class="nv">$Mixed</span><span class="p">;</span>
<span class="nv">$coordinates</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="nv">$validateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ValidateRequest</span><span class="p">(</span><span class="nv">$address</span><span class="p">,</span> <span class="nv">$textCase</span><span class="p">,</span> <span class="nv">$coordinates</span><span class="p">);</span>

<span class="nv">$validateResult</span> <span class="o">=</span> <span class="nv">$addressSvc</span><span class="o">-&gt;</span><span class="na">Validate</span><span class="p">(</span><span class="nv">$validateRequest</span><span class="p">);</span>

<span class="cp">?&gt;</span>

</pre>
<pre class="highlight java"><span class="n">AddressSvcLocator</span> <span class="n">AddressSvc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AddressSvcLocator</span><span class="o">();</span>
<span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">"https://development.avalara.net"</span><span class="o">;</span>
<span class="n">AddressSvcSoap</span> <span class="n">addressSvc</span> <span class="o">=</span> <span class="n">AddressSvc</span><span class="o">.</span><span class="na">getAddressSvcSoap</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">));</span>
<span class="n">Profile</span> <span class="n">profile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Profile</span><span class="o">();</span>
<span class="n">profile</span><span class="o">.</span><span class="na">setClient</span><span class="o">(</span><span class="s">"AvaTaxSample"</span><span class="o">);</span>
<span class="n">addressSvc</span><span class="o">.</span><span class="na">setProfile</span><span class="o">(</span><span class="n">profile</span><span class="o">);</span>
<span class="n">Security</span> <span class="n">security</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Security</span><span class="o">();</span>
<span class="n">security</span><span class="o">.</span><span class="na">setAccount</span><span class="o">(</span><span class="s">"1234567890"</span><span class="o">);</span>
<span class="n">security</span><span class="o">.</span><span class="na">setLicense</span><span class="o">(</span><span class="s">"A1B2C3D4E5F6G7H8"</span><span class="o">);</span>
<span class="n">addressSvc</span><span class="o">.</span><span class="na">setSecurity</span><span class="o">(</span><span class="n">security</span><span class="o">);</span>

<span class="n">ValidateRequest</span> <span class="n">validateRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ValidateRequest</span><span class="o">();</span>
<span class="n">Address</span> <span class="n">address</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Address</span><span class="o">();</span>

<span class="n">address</span><span class="o">.</span><span class="na">setLine3</span><span class="o">(</span><span class="s">"ATTN Accounts Payable"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setLine1</span><span class="o">(</span><span class="s">"118 N Clark St"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setLine2</span><span class="o">(</span><span class="s">"Suite 100"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">"Chicago"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setRegion</span><span class="o">(</span><span class="s">"IL"</span><span class="o">);</span>
<span class="n">address</span><span class="o">.</span><span class="na">setPostalCode</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
<span class="n">validateRequest</span><span class="o">.</span><span class="na">setTextCase</span><span class="o">(</span><span class="n">TextCase</span><span class="o">.</span><span class="na">Default</span><span class="o">);</span>
<span class="n">validateRequest</span><span class="o">.</span><span class="na">setCoordinates</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

<span class="n">validateRequest</span><span class="o">.</span><span class="na">setAddress</span><span class="o">(</span><span class="n">address</span><span class="o">);</span>

<span class="n">ValidateResult</span> <span class="n">validateResult</span> <span class="o">=</span> <span class="n">addressSvc</span><span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">validateRequest</span><span class="o">);</span>

</pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;ValidateResult&gt;</span>
<span class="nt">&lt;TransactionId&gt;</span>0<span class="nt">&lt;/TransactionId&gt;</span>
<span class="nt">&lt;ResultCode&gt;</span>Success<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;ValidAddresses&gt;</span>
<span class="nt">&lt;ValidAddress&gt;</span>
<span class="nt">&lt;AddressCode/&gt;</span>
<span class="nt">&lt;Line1&gt;</span>ATTN ACCOUNTS PAYABLE<span class="nt">&lt;/Line1&gt;</span>
<span class="nt">&lt;Line2&gt;</span>118 N CLARK ST STE 100<span class="nt">&lt;/Line2&gt;</span>
<span class="nt">&lt;Line3/&gt;</span>
<span class="nt">&lt;City&gt;</span>CHICAGO<span class="nt">&lt;/City&gt;</span>
<span class="nt">&lt;Region&gt;</span>IL<span class="nt">&lt;/Region&gt;</span>
<span class="nt">&lt;PostalCode&gt;</span>60602-1304<span class="nt">&lt;/PostalCode&gt;</span>
<span class="nt">&lt;Country&gt;</span>US<span class="nt">&lt;/Country&gt;</span>
<span class="nt">&lt;TaxRegionId&gt;</span>2062953<span class="nt">&lt;/TaxRegionId&gt;</span>
<span class="nt">&lt;Latitude&gt;</span>41.883739<span class="nt">&lt;/Latitude&gt;</span>
<span class="nt">&lt;Longitude&gt;</span>-87.630989<span class="nt">&lt;/Longitude&gt;</span>
<span class="nt">&lt;Line4&gt;</span>CHICAGO IL 60602-1304<span class="nt">&lt;/Line4&gt;</span>
<span class="nt">&lt;County&gt;</span>COOK<span class="nt">&lt;/County&gt;</span>
<span class="nt">&lt;FipsCode&gt;</span>1703100000<span class="nt">&lt;/FipsCode&gt;</span>
<span class="nt">&lt;CarrierRoute&gt;</span>C012<span class="nt">&lt;/CarrierRoute&gt;</span>
<span class="nt">&lt;PostNet&gt;</span>606021304990<span class="nt">&lt;/PostNet&gt;</span>
<span class="nt">&lt;AddressType&gt;</span>H<span class="nt">&lt;/AddressType&gt;</span>
<span class="nt">&lt;ValidateStatus/&gt;</span>
<span class="nt">&lt;GeocodeType/&gt;</span>
<span class="nt">&lt;/ValidAddress&gt;</span>
<span class="nt">&lt;/ValidAddresses&gt;</span>
<span class="nt">&lt;Taxable&gt;</span>true<span class="nt">&lt;/Taxable&gt;</span>
<span class="nt">&lt;/ValidateResult&gt;</span>
</pre>

<p>Normalizes a single US or Canadian address, providing a non-ambiguous address match.</p>
<h3 id='validate-request'>Validate Request</h3>
<p>Input to normalize a single US or Canadian address, providing a non-ambiguous address match.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Line1:</strong> string [50], <em>required</em></p>

<p>Address line 1</p>

<p><strong>Line2:</strong> string [50], <em>optional</em></p>

<p>Address line 2</p>

<p><strong>Line3:</strong> string [50], <em>optional</em></p>

<p>Address line 3</p>

<p><strong>City:</strong> string [50], <em>optional unless PostalCode is not specified</em></p>

<p>City name</p>

<p><strong>Region:</strong> string [3], <em>optional unless PostalCode is not specified</em></p>

<p>State, province, or region name</p>

<p><strong>Country:</strong> string [2], <em>optional</em></p>

<p>Country code</p>

<p><strong>PostalCode:</strong> string [11], <em>optional unless City and Region are not specified</em></p>

<p>Postal or ZIP code</p>

<p><strong>Coordinates:</strong> boolean, <em>optional</em></p>

<p>Indicates whether latitude and longitude values should be returned in the ValidateResult object. Default is false.</p>

<p><strong>Taxability:</strong> boolean, <em>optional</em></p>

<p>Indicates whether the AvaTax TaxRegionId should be returned in the ValidateResult object. Default is false.</p>

<p><strong>TextCase:</strong> enum as string [see below], <em>optional</em></p>

<p>The casing to apply to the valid address(es) returned in the validation result. Default is Mixed Case.</p>

<p>Values:</p>

<ul>
<li>Default</li>
<li>Mixed</li>
<li>Upper</li>
</ul>
<h3 id='validate-result'>Validate Result</h3>
<p>Output for address/validate showing the validated address match or address validation errors.</p>
<h4 id='properties'>Properties</h4>
<p><strong>Line1:</strong> string [50]</p>

<p>Address line 1</p>

<p><strong>Line2:</strong> string [50]</p>

<p>Address line 2</p>

<p><strong>Line3:</strong> string [50]</p>

<p>Address line 3</p>

<p><strong>City:</strong> string [50]</p>

<p>City name</p>

<p><strong>Region:</strong> string [3]</p>

<p>State, province or region name</p>

<p><strong>Country:</strong> string [2]</p>

<p>Country code as ISO 3166-1 (Alpha-2) country code (e.g. US)</p>

<p><strong>AddressType:</strong> string [1]</p>

<p>Address type code.</p>

<ul>
<li>F - Firm or company address</li>
<li>G - General Delivery address</li>
<li>H - High-rise or business complex</li>
<li>P - PO Box address</li>
<li>R - Rural route address</li>
<li>S - Street or residential address</li>
</ul>

<p><strong>PostalCode:</strong> string [11]</p>

<p>Postal or ZIP code</p>

<p><strong>County:</strong> string [50]</p>

<p>County name</p>

<p><strong>FipsCode:</strong> string [10]</p>

<p>FIPSCode is a unique 10-digit code representing each geographic combination of state, county, and city. The code is made up of the Federal Information Processing Code (FIPS) that uniquely identifies each state, county, and city in the U.S. Returned for US addresses only.</p>

<p>Digits represent jurisdiction codes:</p>

<ul>
<li>1-2 State code</li>
<li>3-5 County code</li>
<li>6-10 City code</li>
</ul>

<p><strong>CarrierRoute:</strong> string [4]</p>

<p>CarrierRoute is a four-character string representing a US postal carrier route. The first character of this property, the term, is always alphabetic, and the last three numeric. For example, &ldquo;R001&rdquo; or &ldquo;C027&rdquo; would be typical carrier routes. The alphabetic letter indicates the type of delivery associated with this address. Returned for US addresses only.</p>

<ul>
<li>B - PO Box</li>
<li>C - City delivery</li>
<li>G - General delivery</li>
<li>H - Highway contract</li>
<li>R - Rural route</li>
</ul>

<p><strong>TaxRegionId:</strong> int</p>

<p>AvaTax tax region identifier</p>

<p><strong>PostNet:</strong> string [12]</p>

<p>POSTNet is a 12-digit barcode containing the ZIP Code, ZIP+4 Code, and the delivery point code, used by the USPS to direct mail. Returned for US addresses only digits represent delivery information:</p>

<ul>
<li>1-5 ZIP code</li>
<li>6-9 Plus4 code</li>
<li>10-11 Delivery point</li>
<li>12 Check digit</li>
</ul>

<p><strong>ResultCode:</strong> SeverityLevel</p>

<p>Indicates success or failure. One of:</p>

<ul>
<li>Success</li>
<li>Warning</li>
<li>Error</li>
<li>Exception</li>
</ul>

<p><strong>Messages:</strong> Message[]</p>

<p>If ResultCode is Success, Messages is null. Otherwise, it describes any warnings, errors, or exceptions encountered while processing the request.</p>

          <h2 id='errors'>Errors</h2>
<blockquote>
<p>Error messages are presented in the following format:</p>
</blockquote>
<pre class="highlight xml"><span class="nt">&lt;ResultCode&gt;</span>Error<span class="nt">&lt;/ResultCode&gt;</span>
<span class="nt">&lt;Messages&gt;</span>
<span class="nt">&lt;Message</span> <span class="na">Name=</span><span class="s">"CompanyNotFoundError"</span><span class="nt">&gt;</span>
<span class="nt">&lt;Summary&gt;</span>Company not found.  Verify the CompanyCode.<span class="nt">&lt;/Summary&gt;</span>
<span class="nt">&lt;Details&gt;</span>APITrialCompany<span class="nt">&lt;/Details&gt;</span>
<span class="nt">&lt;HelpLink&gt;</span>http://www.avalara.com<span class="nt">&lt;/HelpLink&gt;</span>
<span class="nt">&lt;RefersTo&gt;</span>CompanyCode<span class="nt">&lt;/RefersTo&gt;</span>
<span class="nt">&lt;Severity&gt;</span>Error<span class="nt">&lt;/Severity&gt;</span>
<span class="nt">&lt;Source&gt;</span>Avalara.AvaTax.Services.Tax<span class="nt">&lt;/Source&gt;</span>
<span class="nt">&lt;/Message&gt;</span>
<span class="nt">&lt;/Messages&gt;</span>
</pre>
<h3 id='message'>Message</h3>
<p>Generic format for error messages in output objects. Errors are returned in the Message class. <a href="http://developer.avalara.com/api-docs/designing-your-integration/errors-and-outages/common-errors">See Error Lists</a>.</p>
<h3 id='properties'>Properties</h3>
<p><em>Summary:</em> string [int MAX_VALUE]</p>

<p>The message summary in short form.</p>

<p><em>Details:</em> string [int MAX_VALUE]</p>

<p>Description of the error or warning.</p>

<p><em>RefersTo:</em> string [int MAX_VALUE]</p>

<p>The data used during the request that caused the message to be generated.</p>

<p><em>Severity:</em> enum as string [see below]</p>

<p>Classifies severity of message. One of:</p>

<ul>
<li>Success</li>
<li>Error</li>
<li>Warning</li>
<li>Exception</li>
</ul>

<p><em>Source:</em> string [int MAX_VALUE]</p>

<p>The internal location that generated the message.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="csharp">csharp</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
